const restrictedGlobals = require('eslint-restricted-globals');

module.exports = {
	env: {
		browser: true,
		node: true,
		es6: true,
	},
	parser: '@typescript-eslint/parser',
	parserOptions: {
		ecmaVersion: 2018,
		sourceType: 'module',
	},
	plugins: ['@typescript-eslint'],
	extends: [
		'eslint:recommended',
	],
	rules: {
		// - Possible Errors
		'no-console': 'warn',
		// - Best Practices
		'dot-location': ['error', 'property'],
		'eqeqeq': ['error', 'always', {null: 'ignore'}],
		'no-invalid-this': 'error',
		'no-multi-spaces': 'error',
		'no-redeclare': 'error',
		'no-self-compare': 'error',
		// - Variables
		'no-restricted-globals': ['error', 'isFinite', 'isNaN'].concat(restrictedGlobals),
		// - Stylistic Issues
		'array-bracket-spacing': ['error', 'never'],
		'brace-style': ['error', '1tbs', {allowSingleLine: true}],
		'comma-dangle': ['error', 'always-multiline'],
		'comma-spacing': ['error', {before: false, after: true}],
		'comma-style': ['error', 'last'],
		'computed-property-spacing': ['error', 'never'],
		'eol-last': ['error', 'always'],
		'func-call-spacing': ['error', 'never'],
		'function-paren-newline': ['error', 'consistent'],
		'indent': ['error', 'tab'],
		'key-spacing': ['error', {beforeColon: false, afterColon: true}],
		'keyword-spacing': ['error', {before: true, after: true}],
		'linebreak-style': ['error', 'unix'],
		'lines-between-class-members': ['error', 'always', {exceptAfterSingleLine: true}],
		'no-lonely-if': 'error',
		'no-trailing-spaces': 'error',
		'no-whitespace-before-property': 'error',
		'object-curly-spacing': ['error', 'never'],
		'padded-blocks': ['error', 'never'],
		'quotes': ['error', 'single'],
		'semi': ['error', 'always'],
		'semi-spacing': ['error', {before: false, after: true}],
		'space-before-blocks': 'error',
		'space-before-function-paren': ['error', {anonymous: 'always', named: 'never', asyncArrow: 'always'}],
		'space-in-parens': ['error', 'never'],
		'space-infix-ops': 'error',
		'space-unary-ops': ['error', {words: true, nonwords: false}],
		'switch-colon-spacing': ['error', {after: true, before: false}],
		'template-tag-spacing': ['error', 'never'],
		// - ECMAScript 6
		'arrow-parens': ['error', 'always'],
		'arrow-spacing': ['error', {before: true, after: true}],
		'generator-star-spacing': ['error', {before: false, after: true}],
		'no-confusing-arrow': 'error',
		'no-useless-computed-key': 'error',
		'no-useless-constructor': 'error',
		'no-useless-rename': 'error',
		'no-var': 'error',
		'prefer-arrow-callback': 'error',
		'prefer-const': 'error',
		'prefer-numeric-literals': 'error',
		'prefer-rest-params': 'error',
		'prefer-spread': 'error',
		'require-yield': 'error',
		'rest-spread-spacing': ['error', 'never'],
		'symbol-description': 'error',
		'template-curly-spacing': ['error', 'never'],
		'yield-star-spacing': ['error', 'after'],
	},
	overrides: [
		{
			files: ['*.ts'],
			parser: '@typescript-eslint/parser',
			extends: [
				'eslint:recommended',
				'plugin:@typescript-eslint/recommended',
			],
			rules: {
				'@typescript-eslint/explicit-function-return-type': 'off',
				'@typescript-eslint/no-non-null-assertion': 'off',
			},
		},
	],
};
