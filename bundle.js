(()=>{var e={50:e=>{function t(e){var t=""+e,i=n.exec(t);if(!i)return e;var s,a,r,o="";for(s=i.index,a=0;s<t.length;s++){switch(t.charCodeAt(s)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==s&&(o+=t.substring(a,s)),a=s+1,o+=r}return a!==s?o+t.substring(a,s):o}var n=/["&<>]/;e.exports=function(e){var n,i="",s=e||{};return function(e,s,a,r){i=i+'<div class="constituency"><div class="constituency-data"><h2>Okręg '+t(null==(n=a)?"":n)+" "+t(null==(n=s)?"":n)+"</h2><p>Łącznie "+t(null==(n=r)?"":n)+" mandatów</p></div><table>",function(){var s=e;if("number"==typeof s.length)for(var a=0,r=s.length;a<r;a++){var o=s[a];i=i+"<tr><td>"+t(null==(n=o.committee)?"":n)+"</td><td>"+t(null==(n=o.mandates)?"":n)+"</td></tr>"}else for(var a in r=0,s)r++,o=s[a],i=i+"<tr><td>"+t(null==(n=o.committee)?"":n)+"</td><td>"+t(null==(n=o.mandates)?"":n)+"</td></tr>"}.call(this),i+="</table></div>"}.call(this,"data"in s?s.data:"undefined"!=typeof data?data:void 0,"name"in s?s.name:"undefined"!=typeof name?name:void 0,"number"in s?s.number:"undefined"!=typeof number?number:void 0,"size"in s?s.size:"undefined"!=typeof size?size:void 0),i}},587:e=>{function t(e,s){return Array.isArray(e)?function(e,i){for(var s,a="",r="",o=Array.isArray(i),l=0;l<e.length;l++)(s=t(e[l]))&&(o&&i[l]&&(s=n(s)),a=a+r+s,r=" ");return a}(e,s):e&&"object"==typeof e?function(e){var t="",n="";for(var s in e)s&&e[s]&&i.call(e,s)&&(t=t+n+s,n=" ");return t}(e):e||""}function n(e){var t=""+e,n=s.exec(t);if(!n)return e;var i,a,r,o="";for(i=n.index,a=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=r}return a!==i?o+t.substring(a,i):o}var i=Object.prototype.hasOwnProperty,s=/["&<>]/;e.exports=function(e){var n="",i=e||{};return function(e){n=n+"<div"+function(e,t,n,i){if(!1===t||null==t||!t)return"";if(!0===t)return" "+e;var s=typeof t;return"object"!==s&&"function"!==s||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||-1===(t=JSON.stringify(t)).indexOf('"')?' class="'+t+'"':" class='"+t.replace(/'/g,"&#39;")+"'"}("class",t([e?"container embed":"container"],[!0]))+">",e||(n+='<h1>Kalkulator mandatów w wyborach do Sejmu</h1><p>Kalkulator zwraca szacowany rozkład mandatów w Sejmie na podstawie wyników sondażowych.\nObliczenia są dokonywane zgodnie z obowiązującą w Polsce ordynacją wyborczą, tj. stosując\nmetodę D’Hondta osobno w każdym z 41 okręgów wyborczych.</p><p>Dodatkowo poparcie dla poszczególnych komitetów w okręgach jest różnicowane na podstawie\nszczegółowych wyników ostatnich wyborów parlamentarnych. Ugrupowanie, które w danym okręgu miało\nwtedy poparcie wyższe/niższe niż w całym kraju, również w tej symulacji będzie miało w tym\nokręgu odpowiednio wyższe/niższe poparcie. Pozwala to na sporządzenie szczegółowej prognozy\npodziału mandatów na poziomie poszczególnych okręgów.</p><p>Aktualizacje:</p><ol class="updates"><li>2019-11-15: od teraz w prognozie brane są pod uwagę wyniki wyborów do Sejmu z 2019 roku.</li><li>2020-10-28: dodano partię polityczną Polska 2050; jej prognozowane poparcie w okręgach jest\nliczone na podstawie deklaracji wyborców Szymona Hołowni przedstawionych w artykule\n<a href="https://biqdata.wyborcza.pl/biqdata/7,159116,26083709,analiza-przeplywow-wyborcow-za-duda-tylko-pis-lewicowcy-nie.html"><i>Analiza przepływów wyborców</i></a> z 29 czerwca 2020 roku.</li><li>2023-08-21: dodano koalicyjny komitet wyborczy Trzecia Droga (Polska 2050 + PSL – Koalicja Polska).\n\n</li></ol>'),n+='<form id="support-form"><button id="calculate-button">Oblicz</button></form>',e||(n+='<div id="url"></div>'),n+='<div class="charts-row"><div class="ct-chart" id="support-bar-chart"></div><div class="ct-chart" id="division-pie-chart"></div></div>',e||(n+='<div id="constituency-results"></div><footer><a class="github" href="https://github.com/drastus/sejm-calculator">Kod źródłowy</a><address>Kontakt: zrchos na serwerze gmail.com</address></footer>'),n+="</div>"}.call(this,"embed"in i?i.embed:"undefined"!=typeof embed?embed:void 0),n}},253:e=>{function t(e,t,n,s){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(s?e:e+'="'+e+'"');var a=typeof t;return"object"!==a&&"function"!==a||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=i(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function n(e,t){return Array.isArray(e)?function(e,t){for(var s,a="",r="",o=Array.isArray(t),l=0;l<e.length;l++)(s=n(e[l]))&&(o&&t[l]&&(s=i(s)),a=a+r+s,r=" ");return a}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var i in e)i&&e[i]&&s.call(e,i)&&(t=t+n+i,n=" ");return t}(e):e||""}function i(e){var t=""+e,n=a.exec(t);if(!n)return e;var i,s,r,o="";for(i=n.index,s=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==i&&(o+=t.substring(s,i)),s=i+1,o+=r}return s!==i?o+t.substring(s,i):o}var s=Object.prototype.hasOwnProperty,a=/["&<>]/;e.exports=function(e){var s,a="",r=e||{};return function(e){a+="<table><tr><th>Komitet</th><th>Poparcie</th><th>Mandaty</th></tr>",function(){var r=e;if("number"==typeof r.length)for(var o=0,l=r.length;o<l;o++){var c=r[o];a=a+"<tr"+t("class",n([c.id],[!0]),!1,!0)+"><td><label"+t("for",c.id,!0,!0)+">"+i(null==(s=c.name)?"":s)+"</label></td><td>","mn"!==c.id&&(a=a+'<input type="number" step="any" min="0" max="100"'+t("id",c.id,!0,!0)+t("name",c.id,!0,!0)+">%"),a+="</td><td></td></tr>"}else for(var o in l=0,r)l++,c=r[o],a=a+"<tr"+t("class",n([c.id],[!0]),!1,!0)+"><td><label"+t("for",c.id,!0,!0)+">"+i(null==(s=c.name)?"":s)+"</label></td><td>","mn"!==c.id&&(a=a+'<input type="number" step="any" min="0" max="100"'+t("id",c.id,!0,!0)+t("name",c.id,!0,!0)+">%"),a+="</td><td></td></tr>"}.call(this),a+="</table>"}.call(this,"committees"in r?r.committees:"undefined"!=typeof committees?committees:void 0),a}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},t=8,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function s(e,t){return"number"==typeof e?e+t:e}function a(e){if("string"==typeof e){const t=/^(\d+)\s*(.*)$/g.exec(e);return{value:t?+t[1]:0,unit:(null==t?void 0:t[2])||void 0}}return{value:Number(e)}}function r(e){return String.fromCharCode(97+e%26)}const o=2221e-19;function l(e,t,n){return t/n.range*e}function c(e,n){const i=Math.pow(10,n||t);return Math.round(e*i)/i}function u(e,t,n,i){const s=(i-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(let t=0;t<n.length;t++){const i=n[t];for(const t in i){const n=i[t];e[t]="object"!=typeof n||null===n||n instanceof Array?n:h(e[t],n)}}return e}const d=e=>e;function p(e,t){return Array.from({length:e},t?(e,n)=>t(n):()=>{})}const m=(e,t)=>e+(t||0);function f(e,t){return null!==e&&"object"==typeof e&&Reflect.has(e,t)}function g(e){return null!==e&&isFinite(e)}function y(e){return!e&&0!==e}function v(e){return g(e)?Number(e):void 0}function w(e){return null==e||"number"==typeof e&&isNaN(e)}function x(e,t,n){const i={high:void 0===(t={...t,...n?"x"===n?t.axisX:t.axisY:{}}).high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},s=void 0===t.high,a=void 0===t.low;return(s||a)&&function e(t){if(!w(t))if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const e=Number(n&&f(t,n)?t[n]:t);s&&e>i.high&&(i.high=e),a&&e<i.low&&(i.low=e)}}(e),(t.referenceValue||0===t.referenceValue)&&(i.high=Math.max(t.referenceValue,i.high),i.low=Math.min(t.referenceValue,i.low)),i.high<=i.low&&(0===i.low?i.high=1:i.low<0?i.high=0:(i.high>0||(i.high=1),i.low=0)),i}function b(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;const a={labels:(e.labels||[]).slice(),series:E(e.series,i,s)},r=a.labels.length;return function(e){return!!Array.isArray(e)&&e.every(Array.isArray)}(a.series)?(t=Math.max(r,...a.series.map((e=>e.length))),a.series.forEach((e=>{e.push(...p(Math.max(0,t-e.length)))}))):t=a.series.length,a.labels.push(...p(Math.max(0,t-r),(()=>""))),n&&function(e){var t;null===(t=e.labels)||void 0===t||t.reverse(),e.series.reverse();for(const t of e.series)f(t,"data")?t.data.reverse():Array.isArray(t)&&t.reverse()}(a),a}function k(e,t){if(!w(e))return t?function(e,t){let n,i;if("object"!=typeof e){const s=v(e);"x"===t?n=s:i=s}else f(e,"x")&&(n=v(e.x)),f(e,"y")&&(i=v(e.y));if(void 0!==n||void 0!==i)return{x:n,y:i}}(e,t):v(e)}function z(e,t){return Array.isArray(e)?e.map((e=>f(e,"value")?k(e.value,t):k(e,t))):z(e.data,t)}function E(e,t,n){if(i=e,Array.isArray(i)&&i.every((e=>Array.isArray(e)||f(e,"data"))))return e.map((e=>z(e,t)));var i;const s=z(e,t);return n?s.map((e=>[e])):s}function S(e){let t="";return null==e?e:(t="number"==typeof e?""+e:"object"==typeof e?JSON.stringify({data:e}):String(e),Object.keys(i).reduce(((e,t)=>e.replaceAll(t,i[t])),t))}class j{call(e,t){return this.svgElements.forEach((n=>Reflect.apply(n[e],n,t))),this}attr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("attr",t)}elem(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("elem",t)}root(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("root",t)}getNode(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("getNode",t)}foreignObject(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("foreignObject",t)}text(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("text",t)}empty(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("empty",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("remove",t)}addClass(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("addClass",t)}removeClass(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("removeClass",t)}removeAllClasses(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("removeAllClasses",t)}animate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.call("animate",t)}constructor(e){this.svgElements=[];for(let t=0;t<e.length;t++)this.svgElements.push(new O(e[t]))}}const A={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function M(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;const{easing:o,...l}=n,c={};let u,h;o&&(u=Array.isArray(o)?o:A[o]),l.begin=s(l.begin,"ms"),l.dur=s(l.dur,"ms"),u&&(l.calcMode="spline",l.keySplines=u.join(" "),l.keyTimes="0;1"),i&&(l.fill="freeze",c[t]=l.from,e.attr(c),h=a(l.begin||0).value,l.begin="indefinite");const d=e.elem("animate",{attributeName:t,...l});i&&setTimeout((()=>{try{d._node.beginElement()}catch(n){c[t]=l.to,e.attr(c),d.remove()}}),h);const p=d.getNode();r&&p.addEventListener("beginEvent",(()=>r.emit("animationBegin",{element:e,animate:p,params:n}))),p.addEventListener("endEvent",(()=>{r&&r.emit("animationEnd",{element:e,animate:p,params:n}),i&&(c[t]=l.to,e.attr(c),d.remove())}))}class O{attr(t,n){return"string"==typeof t?n?this._node.getAttributeNS(n,t):this._node.getAttribute(t):(Object.keys(t).forEach((n=>{if(void 0!==t[n])if(-1!==n.indexOf(":")){const i=n.split(":");this._node.setAttributeNS(e[i[0]],n,String(t[n]))}else this._node.setAttribute(n,String(t[n]))})),this)}elem(e,t,n){return new O(e,t,n,this,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}parent(){return this._node.parentNode instanceof SVGElement?new O(this._node.parentNode):null}root(){let e=this._node;for(;"svg"!==e.nodeName&&e.parentElement;)e=e.parentElement;return new O(e)}querySelector(e){const t=this._node.querySelector(e);return t?new O(t):null}querySelectorAll(e){const t=this._node.querySelectorAll(e);return new j(t)}getNode(){return this._node}foreignObject(t,n,i){let s,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("string"==typeof t){const e=document.createElement("div");e.innerHTML=t,s=e.firstChild}else s=t;s instanceof Element&&s.setAttribute("xmlns",e.xmlns);const r=this.elem("foreignObject",n,i,a);return r._node.appendChild(s),r}text(e){return this._node.appendChild(document.createTextNode(e)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var e;return null===(e=this._node.parentNode)||void 0===e||e.removeChild(this._node),this.parent()}replace(e){var t;return null===(t=this._node.parentNode)||void 0===t||t.replaceChild(e._node,this._node),e}append(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}classes(){const e=this._node.getAttribute("class");return e?e.trim().split(/\s+/):[]}addClass(e){return this._node.setAttribute("class",this.classes().concat(e.trim().split(/\s+/)).filter((function(e,t,n){return n.indexOf(e)===t})).join(" ")),this}removeClass(e){const t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter((e=>-1===t.indexOf(e))).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.getBoundingClientRect().height}width(){return this._node.getBoundingClientRect().width}animate(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return Object.keys(e).forEach((i=>{const s=e[i];Array.isArray(s)?s.forEach((e=>M(this,i,e,!1,n))):M(this,i,s,t,n)})),this}constructor(t,n,i,s,a=!1){t instanceof Element?this._node=t:(this._node=document.createElementNS(e.svg,t),"svg"===t&&this.attr({"xmlns:ct":e.ct})),n&&this.attr(n),i&&this.addClass(i),s&&(a&&s._node.firstChild?s._node.insertBefore(this._node,s._node.firstChild):s._node.appendChild(this._node))}}function N(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",s=arguments.length>3?arguments[3]:void 0;Array.from(t.querySelectorAll("svg")).filter((t=>t.getAttributeNS(e.xmlns,"ct"))).forEach((e=>t.removeChild(e)));const a=new O("svg").attr({width:n,height:i}).attr({style:"width: ".concat(n,"; height: ").concat(i,";")});return s&&a.addClass(s),t.appendChild(a.getNode()),a}function L(e,t){var n,i,s,r;const o=Boolean(t.axisX||t.axisY),l=(null===(n=t.axisY)||void 0===n?void 0:n.offset)||0,c=(null===(i=t.axisX)||void 0===i?void 0:i.offset)||0,u=null===(s=t.axisY)||void 0===s?void 0:s.position,h=null===(r=t.axisX)||void 0===r?void 0:r.position;let d=e.width()||a(t.width).value||0,p=e.height()||a(t.height).value||0;const m="number"==typeof(f=t.chartPadding)?{top:f,right:f,bottom:f,left:f}:void 0===f?{top:0,right:0,bottom:0,left:0}:{top:"number"==typeof f.top?f.top:0,right:"number"==typeof f.right?f.right:0,bottom:"number"==typeof f.bottom?f.bottom:0,left:"number"==typeof f.left?f.left:0};var f;d=Math.max(d,l+m.left+m.right),p=Math.max(p,c+m.top+m.bottom);const g={x1:0,x2:0,y1:0,y2:0,padding:m,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return o?("start"===h?(g.y2=m.top+c,g.y1=Math.max(p-m.bottom,g.y2+1)):(g.y2=m.top,g.y1=Math.max(p-m.bottom-c,g.y2+1)),"start"===u?(g.x1=m.left+l,g.x2=Math.max(d-m.right,g.x1+1)):(g.x1=m.left,g.x2=Math.max(d-m.right-l,g.x1+1))):(g.x1=m.left,g.x2=Math.max(d-m.right,g.x1+1),g.y2=m.top,g.y1=Math.max(p-m.bottom,g.y2+1)),g}function C(e,t,n){let i;const s=[];function a(s){const a=i;i=h({},e),t&&t.forEach((e=>{window.matchMedia(e[0]).matches&&(i=h(i,e[1]))})),n&&s&&n.emit("optionsChanged",{previousOptions:a,currentOptions:i})}if(!window.matchMedia)throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return t&&t.forEach((e=>{const t=window.matchMedia(e[0]);t.addEventListener("change",a),s.push(t)})),a(),{removeMediaQueryListeners:function(){s.forEach((e=>e.removeEventListener("change",a)))},getCurrentOptions:()=>i}}O.Easing=A;const B={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},I={accuracy:3};function _(e,t,n,i,s,a){const r={command:s?e.toLowerCase():e.toUpperCase(),...t,...a?{data:a}:{}};n.splice(i,0,r)}function P(e,t){e.forEach(((n,i)=>{B[n.command.toLowerCase()].forEach(((s,a)=>{t(n,s,i,a,e)}))}))}class q{static join(e){const t=new q(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);for(let n=0;n<e.length;n++){const i=e[n];for(let e=0;e<i.pathElements.length;e++)t.pathElements.push(i.pathElements[e])}return t}position(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}remove(e){return this.pathElements.splice(this.pos,e),this}move(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return _("M",{x:+e,y:+t},this.pathElements,this.pos++,n,i),this}line(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return _("L",{x:+e,y:+t},this.pathElements,this.pos++,n,i),this}curve(e,t,n,i,s,a){let r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0;return _("C",{x1:+e,y1:+t,x2:+n,y2:+i,x:+s,y:+a},this.pathElements,this.pos++,r,o),this}arc(e,t,n,i,s,a,r){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;return _("A",{rx:e,ry:t,xAr:n,lAf:i,sf:s,x:a,y:r},this.pathElements,this.pos++,o,l),this}parse(e){const t=e.replace(/([A-Za-z])(-?[0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(((e,t)=>(t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e)),[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();const n=t.map((e=>{const t=e.shift(),n=B[t.toLowerCase()];return{command:t,...n.reduce(((t,n,i)=>(t[n]=+e[i],t)),{})}}));return this.pathElements.splice(this.pos,0,...n),this.pos+=n.length,this}stringify(){const e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(((t,n)=>{const i=B[n.command.toLowerCase()].map((t=>{const i=n[t];return this.options.accuracy?Math.round(i*e)/e:i}));return t+n.command+i.join(",")}),"")+(this.close?"Z":"")}scale(e,t){return P(this.pathElements,((n,i)=>{n[i]*="x"===i[0]?e:t})),this}translate(e,t){return P(this.pathElements,((n,i)=>{n[i]+="x"===i[0]?e:t})),this}transform(e){return P(this.pathElements,((t,n,i,s,a)=>{const r=e(t,n,i,s,a);(r||0===r)&&(t[n]=r)})),this}clone(){const e=new q(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map((e=>({...e}))),e.options={...this.options},e}splitByCommand(e){const t=[new q];return this.pathElements.forEach((n=>{n.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new q),t[t.length-1].pathElements.push(n)})),t}constructor(e=!1,t){this.close=e,this.pathElements=[],this.pos=0,this.options={...I,...t}}}class R{on(e,t){const{allListeners:n,listeners:i}=this;"*"===e?n.add(t):(i.has(e)||i.set(e,new Set),i.get(e).add(t))}off(e,t){const{allListeners:n,listeners:i}=this;if("*"===e)t?n.delete(t):n.clear();else if(i.has(e)){const n=i.get(e);t?n.delete(t):n.clear(),n.size||i.delete(e)}}emit(e,t){const{allListeners:n,listeners:i}=this;i.has(e)&&i.get(e).forEach((e=>e(t))),n.forEach((n=>n(e,t)))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const T=new WeakMap;class V{update(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i;return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),t&&(this.options=h({},n?this.options:this.defaultOptions,t),this.initializeTimeoutId||(null===(i=this.optionsProvider)||void 0===i||i.removeMediaQueryListeners(),this.optionsProvider=C(this.options,this.responsiveOptions,this.eventEmitter))),!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){var e;return this.initializeTimeoutId?window.clearTimeout(this.initializeTimeoutId):(window.removeEventListener("resize",this.resizeListener),null===(e=this.optionsProvider)||void 0===e||e.removeMediaQueryListeners()),T.delete(this.container),this}on(e,t){return this.eventEmitter.on(e,t),this}off(e,t){return this.eventEmitter.off(e,t),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=C(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",(()=>this.update())),this.options.plugins&&this.options.plugins.forEach((e=>{Array.isArray(e)?e[0](this,e[1]):e(this)})),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(e,t,n,i,s){this.data=t,this.defaultOptions=n,this.options=i,this.responsiveOptions=s,this.eventEmitter=new R,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout((()=>this.initialize()),0);const a="string"==typeof e?document.querySelector(e):e;if(!a)throw new Error("Target element is not found");this.container=a;const r=T.get(a);r&&r.detach(),T.set(a,this)}}const U={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};class D{createGridAndLabels(e,t,n,i){const s="x"===this.units.pos?n.axisX:n.axisY,a=this.ticks.map(((e,t)=>this.projectValue(e,t))),r=this.ticks.map(s.labelInterpolationFnc);a.forEach(((o,l)=>{const c=r[l],u={x:0,y:0};let h;h=a[l+1]?a[l+1]-o:Math.max(this.axisLength-o,this.axisLength/this.ticks.length),""!==c&&y(c)||("x"===this.units.pos?(o=this.chartRect.x1+o,u.x=n.axisX.labelOffset.x,"start"===n.axisX.position?u.y=this.chartRect.padding.top+n.axisX.labelOffset.y+5:u.y=this.chartRect.y1+n.axisX.labelOffset.y+5):(o=this.chartRect.y1-o,u.y=n.axisY.labelOffset.y-h,"start"===n.axisY.position?u.x=this.chartRect.padding.left+n.axisY.labelOffset.x:u.x=this.chartRect.x2+n.axisY.labelOffset.x+10),s.showGrid&&function(e,t,n,i,s,a,r,o){const l={["".concat(n.units.pos,"1")]:e,["".concat(n.units.pos,"2")]:e,["".concat(n.counterUnits.pos,"1")]:i,["".concat(n.counterUnits.pos,"2")]:i+s},c=a.elem("line",l,r.join(" "));o.emit("draw",{type:"grid",axis:n,index:t,group:a,element:c,...l})}(o,l,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[n.classNames.grid,n.classNames[this.units.dir]],i),s.showLabel&&function(e,t,n,i,s,a,r,o,l,c){const u={[s.units.pos]:e+r[s.units.pos],[s.counterUnits.pos]:r[s.counterUnits.pos],[s.units.len]:t,[s.counterUnits.len]:Math.max(0,a-10)},h=Math.round(u[s.units.len]),d=Math.round(u[s.counterUnits.len]),p=document.createElement("span");p.className=l.join(" "),p.style[s.units.len]=h+"px",p.style[s.counterUnits.len]=d+"px",p.textContent=String(i);const m=o.foreignObject(p,{style:"overflow: visible;",...u});c.emit("draw",{type:"label",axis:s,index:n,group:o,element:m,text:i,...u})}(o,h,l,c,this,s.offset,u,t,[n.classNames.label,n.classNames[this.units.dir],"start"===s.position?n.classNames[s.position]:n.classNames.end],i))}))}constructor(e,t,n){this.units=e,this.chartRect=t,this.ticks=n,this.counterUnits=e===U.x?U.y:U.x,this.axisLength=t[this.units.rectEnd]-t[this.units.rectStart],this.gridOffset=t[this.units.rectOffset]}}class X extends D{projectValue(e){const t=Number(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return function(e){return"object"==typeof e&&null!==e&&(Reflect.has(e,"x")||Reflect.has(e,"y"))}(e)&&f(e,t)?v(e[t]):v(e)}(e,this.units.pos));return this.axisLength*(t-this.bounds.min)/this.bounds.range}constructor(e,t,n,i){const s=i.highLow||x(t,i,e.pos),a=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s={high:t.high,low:t.low,valueRange:0,oom:0,step:0,min:0,max:0,range:0,numberOfSteps:0,values:[]};var a;s.valueRange=s.high-s.low,s.oom=(a=s.valueRange,Math.floor(Math.log(Math.abs(a))/Math.LN10)),s.step=Math.pow(10,s.oom),s.min=Math.floor(s.low/s.step)*s.step,s.max=Math.ceil(s.high/s.step)*s.step,s.range=s.max-s.min,s.numberOfSteps=Math.round(s.range/s.step);const r=l(e,s.step,s)<n,u=i?function(e){if(1===e)return e;function t(e,n){return e%n==0?n:t(n,e%n)}function n(e){return e*e+1}let i,s=2,a=2;if(e%2==0)return 2;do{s=n(s)%e,a=n(n(a))%e,i=t(Math.abs(s-a),e)}while(1===i);return i}(s.range):0;if(i&&l(e,1,s)>=n)s.step=1;else if(i&&u<s.step&&l(e,u,s)>=n)s.step=u;else{let t=0;for(;;){if(r&&l(e,s.step,s)<=n)s.step*=2;else{if(r||!(l(e,s.step/2,s)>=n))break;if(s.step/=2,i&&s.step%1!=0){s.step*=2;break}}if(t++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}function h(e,t){return e===(e+=t)&&(e*=1+(t>0?o:-o)),e}s.step=Math.max(s.step,o);let d=s.min,p=s.max;for(;d+s.step<=s.low;)d=h(d,s.step);for(;p-s.step>=s.high;)p=h(p,-s.step);s.min=d,s.max=p,s.range=s.max-s.min;const m=[];for(let e=s.min;e<=s.max;e=h(e,s.step)){const t=c(e);t!==m[m.length-1]&&m.push(t)}return s.values=m,s}(n[e.rectEnd]-n[e.rectStart],s,i.scaleMinSpace||20,i.onlyInteger),r={min:a.min,max:a.max};super(e,n,a.values),this.bounds=a,this.range=r}}class Y extends D{projectValue(e,t){return this.stepLength*t}constructor(e,t,n,i){const s=i.ticks||[];super(e,n,s);const a=Math.max(1,s.length-(i.stretch?1:0));this.stepLength=this.axisLength/a,this.stretch=Boolean(i.stretch)}}const G={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:d,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:d,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};class K extends V{createChart(e){const{data:t}=this,n=b(t,e.reverseData,e.horizontalBars?"x":"y",!0),i=N(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:"")),s=e.stackBars&&!0!==e.stackMode&&n.series.length?x([(a=n.series,o=a,l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.from(t).reduce(((e,t)=>({x:e.x+(f(t,"x")?t.x:0),y:e.y+(f(t,"y")?t.y:0)})),{x:0,y:0})},p(Math.max(...o.map((e=>e.length))),(e=>l(...o.map((t=>t[e]))))))],e,e.horizontalBars?"x":"y"):x(n.series,e,e.horizontalBars?"x":"y");var a,o,l;this.svg=i;const c=i.elem("g").addClass(e.classNames.gridGroup),u=i.elem("g"),h=i.elem("g").addClass(e.classNames.labelGroup);"number"==typeof e.high&&(s.high=e.high),"number"==typeof e.low&&(s.low=e.low);const d=L(i,e);let m;const y=e.distributeSeries&&e.stackBars?n.labels.slice(0,1):n.labels;let v,w,k;e.horizontalBars?(m=w=void 0===e.axisX.type?new X(U.x,n.series,d,{...e.axisX,highLow:s,referenceValue:0}):new e.axisX.type(U.x,n.series,d,{...e.axisX,highLow:s,referenceValue:0}),v=k=void 0===e.axisY.type?new Y(U.y,n.series,d,{ticks:y}):new e.axisY.type(U.y,n.series,d,e.axisY)):(v=w=void 0===e.axisX.type?new Y(U.x,n.series,d,{ticks:y}):new e.axisX.type(U.x,n.series,d,e.axisX),m=k=void 0===e.axisY.type?new X(U.y,n.series,d,{...e.axisY,highLow:s,referenceValue:0}):new e.axisY.type(U.y,n.series,d,{...e.axisY,highLow:s,referenceValue:0}));const z=e.horizontalBars?d.x1+m.projectValue(0):d.y1-m.projectValue(0),E="accumulate"===e.stackMode,j="accumulate-relative"===e.stackMode,A=[],M=[];let O=A;v.createGridAndLabels(c,h,e,this.eventEmitter),m.createGridAndLabels(c,h,e,this.eventEmitter),e.showGridBackground&&function(e,t,n,i){const s=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},n,!0);i.emit("draw",{type:"gridBackground",group:e,element:s})}(c,d,e.classNames.gridBackground,this.eventEmitter),function(e,t){let n=0;e[arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"reduceRight":"reduce"](((e,i,s)=>t(i,n++,s)),void 0)}(t.series,((i,s)=>{const a=s-(t.series.length-1)/2;let o;o=e.distributeSeries&&!e.stackBars?v.axisLength/n.series.length/2:e.distributeSeries&&e.stackBars?v.axisLength/2:v.axisLength/n.series[s].length/2;const l=u.elem("g"),c=f(i,"name")&&i.name,h=f(i,"className")&&i.className,p=f(i,"meta")?i.meta:void 0;c&&l.attr({"ct:series-name":c}),p&&l.attr({"ct:meta":S(p)}),l.addClass([e.classNames.series,h||"".concat(e.classNames.series,"-").concat(r(s))].join(" ")),n.series[s].forEach(((t,r)=>{const c=f(t,"x")&&t.x,u=f(t,"y")&&t.y;let h,p;h=e.distributeSeries&&!e.stackBars?s:e.distributeSeries&&e.stackBars?0:r,p=e.horizontalBars?{x:d.x1+m.projectValue(c||0,r,n.series[s]),y:d.y1-v.projectValue(u||0,h,n.series[s])}:{x:d.x1+v.projectValue(c||0,h,n.series[s]),y:d.y1-m.projectValue(u||0,r,n.series[s])},v instanceof Y&&(v.stretch||(p[v.units.pos]+=o*(e.horizontalBars?-1:1)),p[v.units.pos]+=e.stackBars||e.distributeSeries?0:a*e.seriesBarDistance*(e.horizontalBars?-1:1)),j&&(O=u>=0||c>=0?A:M);const y=O[r]||z;if(O[r]=y-(z-p[v.counterUnits.pos]),void 0===t)return;const x={["".concat(v.units.pos,"1")]:p[v.units.pos],["".concat(v.units.pos,"2")]:p[v.units.pos]};e.stackBars&&(E||j||!e.stackMode)?(x["".concat(v.counterUnits.pos,"1")]=y,x["".concat(v.counterUnits.pos,"2")]=O[r]):(x["".concat(v.counterUnits.pos,"1")]=z,x["".concat(v.counterUnits.pos,"2")]=p[v.counterUnits.pos]),x.x1=Math.min(Math.max(x.x1,d.x1),d.x2),x.x2=Math.min(Math.max(x.x2,d.x1),d.x2),x.y1=Math.min(Math.max(x.y1,d.y2),d.y1),x.y2=Math.min(Math.max(x.y2,d.y2),d.y1);const b=function(e,t){const n=Array.isArray(e)?e[t]:f(e,"data")?e.data[t]:null;return f(n,"meta")?n.meta:void 0}(i,r),N=l.elem("line",x,e.classNames.bar).attr({"ct:value":[c,u].filter(g).join(","),"ct:meta":S(b)});this.eventEmitter.emit("draw",{type:"bar",value:t,index:r,meta:b,series:i,seriesIndex:s,axisX:w,axisY:k,chartRect:d,group:l,element:N,...x})}))}),e.reverseData),this.eventEmitter.emit("created",{chartRect:d,axisX:w,axisY:k,svg:i,options:e})}constructor(e,t,n,i){super(e,t,G,h({},G,n),i),this.data=t}}const H={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:d,labelDirection:"neutral",ignoreEmptyValues:!1};function Q(e,t,n){const i=t.x>e.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}class F extends V{createChart(e){const{data:t}=this,n=b(t),i=[];let s,o,l=e.startAngle;const c=N(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie);this.svg=c;const h=L(c,e);let d=Math.min(h.width()/2,h.height()/2);const p=e.total||n.series.reduce(m,0),g=a(e.donutWidth);"%"===g.unit&&(g.value*=d/100),d-=e.donut?g.value/2:0,o="outside"===e.labelPosition||e.donut?d:"center"===e.labelPosition?0:d/2,e.labelOffset&&(o+=e.labelOffset);const v={x:h.x1+h.width()/2,y:h.y2+h.height()/2},w=1===t.series.filter((e=>f(e,"value")?0!==e.value:0!==e)).length;t.series.forEach(((e,t)=>i[t]=c.elem("g"))),e.showLabel&&(s=c.elem("g")),t.series.forEach(((a,c)=>{var m,x;if(0===n.series[c]&&e.ignoreEmptyValues)return;const b=f(a,"name")&&a.name,k=f(a,"className")&&a.className,z=f(a,"meta")?a.meta:void 0;b&&i[c].attr({"ct:series-name":b}),i[c].addClass([null===(m=e.classNames)||void 0===m?void 0:m.series,k||"".concat(null===(x=e.classNames)||void 0===x?void 0:x.series,"-").concat(r(c))].join(" "));let E=p>0?l+n.series[c]/p*360:0;const j=Math.max(0,l-(0===c||w?0:.2));E-j>=359.99&&(E=j+359.99);const A=u(v.x,v.y,d,j),M=u(v.x,v.y,d,E),O=new q(!e.donut).move(M.x,M.y).arc(d,d,0,Number(E-l>180),0,A.x,A.y);e.donut||O.line(v.x,v.y);const N=i[c].elem("path",{d:O.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(N.attr({"ct:value":n.series[c],"ct:meta":S(z)}),e.donut&&N.attr({style:"stroke-width: "+g.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:n.series[c],totalDataSum:p,index:c,meta:z,series:a,group:i[c],element:N,path:O.clone(),center:v,radius:d,startAngle:l,endAngle:E,chartRect:h}),e.showLabel){let i,r;i=1===t.series.length?{x:v.x,y:v.y}:u(v.x,v.y,o,l+(E-l)/2),r=n.labels&&!y(n.labels[c])?n.labels[c]:n.series[c];const d=e.labelInterpolationFnc(r,c);if(d||0===d){const t=s.elem("text",{dx:i.x,dy:i.y,"text-anchor":Q(v,i,e.labelDirection)},e.classNames.label).text(String(d));this.eventEmitter.emit("draw",{type:"label",index:c,group:s,element:t,text:""+d,chartRect:h,series:a,meta:z,...i})}}l=E})),this.eventEmitter.emit("created",{chartRect:h,svg:c,options:e})}constructor(e,t,n,i){super(e,t,H,h({},H,n),i),this.data=t}}var W={pis:43.59,ko:27.4,lewica:12.56,psl:8.55,konfederacja:6.81},J=[{id:"pis",name:"Prawo i Sprawiedliwość",shortName:"PiS",threshold:5,pastSupportEquivalence:[["pis",1]]},{id:"ko",name:"Koalicja Obywatelska",shortName:"KO",threshold:8,pastSupportEquivalence:[["ko",1]]},{id:"lewica",name:"Nowa Lewica",shortName:"NL",threshold:5,pastSupportEquivalence:[["lewica",1]]},{id:"td",name:"Trzecia Droga",shortName:"TD",threshold:8,pastSupportEquivalence:[["psl",.48],["lewica",.23],["konfederacja",.17],["ko",.15],["pis",.03]]},{id:"konfederacja",name:"Konfederacja",shortName:"Konf.",threshold:5,pastSupportEquivalence:[["konfederacja",1]]},{id:"mn",name:"Mniejszość Niemiecka",shortName:"MN",threshold:0,pastSupportEquivalence:[]}],Z=["lewica","ko","mn","td","pis","konfederacja"],$=[{name:"Legnica",size:12,pastSupport:{ko:25.02,konfederacja:5.85,psl:7.17,pis:42.4,lewica:16.43}},{name:"Wałbrzych",size:8,pastSupport:{ko:32.09,konfederacja:5.42,psl:7.25,pis:40.54,lewica:12.35}},{name:"Wrocław",size:14,pastSupport:{ko:32.8,konfederacja:7.45,psl:6.46,pis:34.67,lewica:15.41}},{name:"Bydgoszcz",size:12,pastSupport:{ko:31.05,konfederacja:7.05,psl:9.02,pis:36.43,lewica:15.17}},{name:"Toruń",size:13,pastSupport:{ko:26.42,konfederacja:6.33,psl:10.88,pis:40.38,lewica:14.83}},{name:"Lublin",size:15,pastSupport:{ko:19.3,konfederacja:7.07,psl:9.1,pis:55.39,lewica:7.81}},{name:"Chełm",size:12,pastSupport:{ko:14.8,konfederacja:5.84,psl:11.86,pis:59.5,lewica:6.83}},{name:"Zielona Góra",size:12,pastSupport:{ko:31.27,konfederacja:7.19,psl:11.63,pis:34.3,lewica:15.61}},{name:"Łódź",size:10,pastSupport:{ko:35.82,konfederacja:6.65,psl:4.53,pis:32.9,lewica:20.1}},{name:"Piotrków Trybunalski",size:9,pastSupport:{ko:15.64,konfederacja:6.76,psl:10.44,pis:56.21,lewica:10.95}},{name:"Sieradz",size:12,pastSupport:{ko:20.48,konfederacja:5.88,psl:10.29,pis:49.81,lewica:11.98}},{name:"Chrzanów",size:8,pastSupport:{ko:23.04,konfederacja:7.06,psl:7.9,pis:53.48,lewica:8.51}},{name:"Kraków",size:14,pastSupport:{ko:30.48,konfederacja:7.99,psl:7.27,pis:39.56,lewica:13.01}},{name:"Nowy Sącz",size:10,pastSupport:{ko:13.83,konfederacja:6.95,psl:7.35,pis:65.8,lewica:6.07}},{name:"Tarnów",size:9,pastSupport:{ko:14,konfederacja:7.11,psl:13.35,pis:59.59,lewica:5.94}},{name:"Płock",size:10,pastSupport:{ko:16.85,konfederacja:5.24,psl:15.17,pis:52.45,lewica:8.76}},{name:"Radom",size:9,pastSupport:{ko:17.15,konfederacja:5.89,psl:10.2,pis:57.82,lewica:7.43}},{name:"Siedlce",size:12,pastSupport:{ko:13.94,konfederacja:6.49,psl:11.94,pis:59.76,lewica:6.45}},{name:"Warszawa I",size:20,pastSupport:{ko:42.05,konfederacja:7.51,psl:4.75,pis:27.49,lewica:18.19}},{name:"Warszawa II",size:12,pastSupport:{ko:28.61,konfederacja:6.63,psl:8.6,pis:40.89,lewica:13.09}},{name:"Opole",size:12,pastSupport:{ko:26.71,konfederacja:5.7,psl:10.31,pis:37.64,lewica:11.74}},{name:"Krosno",size:11,pastSupport:{ko:15.94,konfederacja:6.81,psl:7.85,pis:63.36,lewica:6.04}},{name:"Rzeszów",size:15,pastSupport:{ko:14.39,konfederacja:8.25,psl:7.79,pis:62.38,lewica:6.59}},{name:"Białystok",size:14,pastSupport:{ko:21.04,konfederacja:6.96,psl:9.33,pis:52.04,lewica:9.09}},{name:"Gdańsk",size:12,pastSupport:{ko:41.31,konfederacja:7.21,psl:5.9,pis:32.1,lewica:13.47}},{name:"Gdynia",size:14,pastSupport:{ko:35.85,konfederacja:7.3,psl:7.94,pis:36.43,lewica:12.47}},{name:"Bielsko-Biała",size:9,pastSupport:{ko:27.2,konfederacja:7.42,psl:7.13,pis:46.76,lewica:11.48}},{name:"Częstochowa",size:7,pastSupport:{ko:22.63,konfederacja:6.07,psl:8.68,pis:44.28,lewica:15.59}},{name:"Gliwice",size:9,pastSupport:{ko:32.61,konfederacja:7.67,psl:5.99,pis:37.75,lewica:13.38}},{name:"Rybnik",size:9,pastSupport:{ko:27.71,konfederacja:7.17,psl:5.64,pis:48.28,lewica:9.68}},{name:"Katowice",size:12,pastSupport:{ko:37.2,konfederacja:7.33,psl:4.37,pis:39.19,lewica:11.92}},{name:"Sosnowiec",size:9,pastSupport:{ko:29.66,konfederacja:6.45,psl:4.85,pis:37.13,lewica:21.9}},{name:"Kielce",size:16,pastSupport:{ko:16.65,konfederacja:5.95,psl:9.88,pis:55.18,lewica:9.95}},{name:"Elbląg",size:8,pastSupport:{ko:28.43,konfederacja:5.66,psl:10.89,pis:40.86,lewica:11.64}},{name:"Olsztyn",size:10,pastSupport:{ko:26.46,konfederacja:6.97,psl:13.19,pis:38.82,lewica:13.84}},{name:"Kalisz",size:12,pastSupport:{ko:24.72,konfederacja:6.57,psl:12.8,pis:42.48,lewica:13.43}},{name:"Konin",size:9,pastSupport:{ko:20.48,konfederacja:6.74,psl:9.81,pis:47.29,lewica:15.04}},{name:"Piła",size:9,pastSupport:{ko:30.6,konfederacja:6.62,psl:13.86,pis:35.64,lewica:13.28}},{name:"Poznań",size:10,pastSupport:{ko:45.38,konfederacja:6.61,psl:6.2,pis:25.33,lewica:16.49}},{name:"Koszalin",size:8,pastSupport:{ko:32.31,konfederacja:5.98,psl:9.43,pis:36.83,lewica:15.44}},{name:"Szczecin",size:12,pastSupport:{ko:35.71,konfederacja:6.53,psl:7.4,pis:35.11,lewica:15.25}}];var ee=n(50),te=n.n(ee),ne=n(253),ie=n.n(ne),se=window.location,ae=null,re=null,oe=function(e){return"".concat(e.toLocaleString("pl",{minimumFractionDigits:0,maximumFractionDigits:1}),"%")},le=function(){document.querySelectorAll("tr td:last-child").forEach((function(e){e.innerHTML=""})),ae&&ae.detach(),re&&re.detach();var e=document.getElementById("url");e&&(e.innerHTML=""),document.getElementById("support-bar-chart").innerHTML="",document.getElementById("division-pie-chart").innerHTML="";var t=document.getElementById("constituency-results");if(t&&(t.innerHTML=""),se.search){var n=se.href.split("?")[0];window.history.pushState("","",n)}},ce=function(){var e=document.querySelector("#support-form"),t=document.querySelectorAll("#support-form input"),n=Array.from(t).map((function(e){return parseFloat(e.value)})).map((function(e){return Number.isNaN(e)?0:e}));if(function(e,t,n){t.forEach((function(e){return e.setCustomValidity("")})),n.some((function(e,n){return e<0&&(t[n].setCustomValidity("Poparcie nie może byc mniejsze od 0%"),!0)}));var i=n.reduce((function(e,t){return e+t}),0);return i>100?t[0].setCustomValidity("Suma poparcia nie może przekraczać 100%"):i<=0&&t[0].setCustomValidity("Suma poparcia musi być wyższa niż 0%"),e.reportValidity()}(e,t,n)){var i,s=function(e){var t=J.map((function(e){return e.pastSupportEquivalence.map((function(e){return W[e[0]]*e[1]})).reduce((function(e,t){return e+t}),0)})),n=new Array(e.length+1).fill(0);return $.forEach((function(i){var s=function(e,t,n){var i=n.pastSupport,s=J.map((function(e){return e.pastSupportEquivalence.map((function(e){return i[e[0]]*e[1]})).reduce((function(e,t){return e+t}),0)})),a=t.map((function(e,t){return s[t]/e})),r=e.map((function(e,t){return e*a[t]}));return"Opole"===n.name&&r.push(7.9),r}(e,t,i);i.support=s,i.mandates=new Array(s.length).fill(0);for(var a=s.map((function(t,n){return e[n]<J[n].threshold?0:t})),r=[],o=1;o<=i.size;o+=1)for(var l=0;l<s.length;l+=1)r.push({quotient:a[l]/o,committeeIndex:l});r.sort((function(e,t){return t.quotient-e.quotient})),r.slice(0,i.size).forEach((function(e){e.quotient>0&&(n[e.committeeIndex]+=1,i.mandates[e.committeeIndex]+=1)}))})),n}(n);!function(e){e.forEach((function(e,t){var n=J[t].id,i=document.querySelector("tr.".concat(n," td:last-child"));i&&(i.textContent=e.toString())}))}(s),function(e){if(document.getElementById("url")){var t=new URLSearchParams;e.forEach((function(e,n){e>0&&t.append(J[n].id,e.toString())}));var n=se.href.split("?")[0],i="".concat(n,"?").concat(t);document.getElementById("url").innerHTML="Link do wyników: ".concat(i.link(i))}}(n),ae=function(e){var t=J.map((function(t,n){return{label:t.shortName,support:{value:e[n],className:t.id}}})).filter((function(e){return e.support.value&&e.support.value>0})).sort((function(e,t){return t.support.value-e.support.value})),n={labels:t.map((function(e){return e.label})),series:t.map((function(e){return e.support}))},i={distributeSeries:!0,axisY:{labelInterpolationFnc:oe}};document.getElementById("support-bar-chart").classList.add("ct-perfect-fourth");var s=new K("#support-bar-chart",n,i);return s.on("draw",(function(e){"bar"===e.type&&(e.element.attr({style:"stroke-width: 30px"}),e.group.append(new O("text",{x:e.x2+15,y:e.y2-5,"text-anchor":"end"},"bar-value").text(oe(e.value.y))))})),s}(n),re=function(e){var t=J.map((function(t,n){return{id:t.id,label:t.shortName,mandates:{value:e[n],className:t.id}}})).filter((function(e){return e.mandates.value&&e.mandates.value>0}));t.sort((function(e,t){return Z.indexOf(e.id)>Z.indexOf(t.id)?1:-1}));var n={series:t.map((function(e){return e.mandates}))},i={donut:!0,donutWidth:60,startAngle:270,total:920,labelInterpolationFnc:function(e,n){return e<15?"":"".concat(t[n].label," ").concat(e)}};return document.getElementById("division-pie-chart").classList.add("ct-perfect-fourth"),new F("#division-pie-chart",n,i)}(s),(i=document.getElementById("constituency-results"))&&$.forEach((function(e,t){var n=e.mandates&&e.support?e.mandates.map((function(t,n){return{committee:J[n].name,support:e.support[n],mandates:t}})):[];n.sort((function(e,t){return t.support-e.support})),i.insertAdjacentHTML("beforeend",te()({number:t+1,name:e.name,size:e.size,data:n}))})),t.forEach((function(e){return e.addEventListener("input",(function(){le()}))}))}},ue=function(){document.getElementById("support-form").insertAdjacentHTML("afterbegin",ie()({committees:J}))},he=function(){se.search&&(new URLSearchParams(se.search).forEach((function(e,t){var n=document.querySelector("tr.".concat(t," td:nth-child(2) input"));n&&(n.value=e)})),ce())},de=n(587),pe=n.n(de),me=function(){document.body.innerHTML=pe()({embed:"#embed"===window.location.hash})},fe=function(e){e.preventDefault(),ce()};document.addEventListener("DOMContentLoaded",(function(){me(),ue(),he(),document.querySelector("#calculate-button").addEventListener("click",fe)})),window.addEventListener("popstate",(function(){window.location.search?he():(document.querySelectorAll("tr td:nth-child(2) input").forEach((function(e){e.value=""})),le())})),window.addEventListener("hashchange",(function(){me(),ue(),he()}))})()})();