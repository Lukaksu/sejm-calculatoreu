(()=>{var e={483:e=>{function t(e){var t=""+e,i=s.exec(t);if(!i)return e;var n,a,r,o="";for(n=i.index,a=0;n<t.length;n++){switch(t.charCodeAt(n)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==n&&(o+=t.substring(a,n)),a=n+1,o+=r}return a!==n?o+t.substring(a,n):o}var s=/["&<>]/;e.exports=function(e){var s,i="",n=e||{};return function(e,n,a,r){i=i+'<div class="constituency"><h2>Okręg '+t(null==(s=a)?"":s)+" "+t(null==(s=n)?"":s)+"</h2><table><tr><th>Komitet</th><th>Poparcie</th><th>Mandaty</th></tr>",function(){var n=e;if("number"==typeof n.length)for(var a=0,r=n.length;a<r;a++){var o=n[a];i=i+"<tr><td>"+t(null==(s=o.committee.name)?"":s)+"</td><td>"+t(null==(s=o.support.toLocaleString("pl",{minimumFractionDigits:1,maximumFractionDigits:1}))?"":s)+"%</td><td>"+t(null==(s=o.mandates)?"":s)+"</td></tr>"}else for(var a in r=0,n)r++,o=n[a],i=i+"<tr><td>"+t(null==(s=o.committee.name)?"":s)+"</td><td>"+t(null==(s=o.support.toLocaleString("pl",{minimumFractionDigits:1,maximumFractionDigits:1}))?"":s)+"%</td><td>"+t(null==(s=o.mandates)?"":s)+"</td></tr>"}.call(this),i=i+"</table><p>Łącznie "+t(null==(s=r)?"":s)+" mandatów</p></div>"}.call(this,"data"in n?n.data:"undefined"!=typeof data?data:void 0,"name"in n?n.name:"undefined"!=typeof name?name:void 0,"number"in n?n.number:"undefined"!=typeof number?number:void 0,"size"in n?n.size:"undefined"!=typeof size?size:void 0),i}},580:e=>{function t(e,n){return Array.isArray(e)?function(e,i){for(var n,a="",r="",o=Array.isArray(i),l=0;l<e.length;l++)(n=t(e[l]))&&(o&&i[l]&&(n=s(n)),a=a+r+n,r=" ");return a}(e,n):e&&"object"==typeof e?function(e){var t="",s="";for(var n in e)n&&e[n]&&i.call(e,n)&&(t=t+s+n,s=" ");return t}(e):e||""}function s(e){var t=""+e,s=n.exec(t);if(!s)return e;var i,a,r,o="";for(i=s.index,a=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=r}return a!==i?o+t.substring(a,i):o}var i=Object.prototype.hasOwnProperty,n=/["&<>]/;e.exports=function(e){var s="",i=e||{};return function(e){s=s+"<main"+function(e,t){if(!1===t||null==t||!t)return"";if(!0===t)return" "+e;var s=typeof t;return"object"!==s&&"function"!==s||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||-1===(t=JSON.stringify(t)).indexOf('"')?' class="'+t+'"':" class='"+t.replace(/'/g,"&#39;")+"'"}("class",t([e?"embed":""],[!0]))+">",e||(s+='<h1>Kalkulator mandatów w wyborach do Sejmu</h1><p>Kalkulator zwraca szacowany rozkład mandatów w Sejmie na podstawie wyników sondażowych.\nObliczenia są dokonywane zgodnie z obowiązującą w Polsce ordynacją wyborczą, tj. stosując\nmetodę D’Hondta osobno w każdym z 41 okręgów wyborczych.</p><p>Dodatkowo poparcie dla poszczególnych komitetów w okręgach jest różnicowane na podstawie\nszczegółowych wyników ostatnich wyborów parlamentarnych. Ugrupowanie, które w danym okręgu miało\nwtedy poparcie wyższe/niższe niż w całym kraju, również w tej symulacji będzie miało w tym\nokręgu odpowiednio wyższe/niższe poparcie. Pozwala to na sporządzenie szczegółowej prognozy\npodziału mandatów na poziomie poszczególnych okręgów.</p><p class="updates-texts">Aktualizacje:</p><ol class="updates updates-texts"><li>2019-11-15: od teraz w prognozie brane są pod uwagę wyniki wyborów do Sejmu z 2019 roku.</li><li>2020-10-28: dodano partię polityczną Polska 2050; jej prognozowane poparcie w okręgach jest\nliczone na podstawie deklaracji wyborców Szymona Hołowni przedstawionych w artykule\n<a href="https://biqdata.wyborcza.pl/biqdata/7,159116,26083709,analiza-przeplywow-wyborcow-za-duda-tylko-pis-lewicowcy-nie.html"><i>Analiza przepływów wyborców</i></a> z 29 czerwca 2020 roku.</li><li>2023-08-21: dodano koalicyjny komitet wyborczy Trzecia Droga (Polska 2050 + PSL – Koalicja Polska).</li><li>2023-10-20: od teraz w prognozie brane są pod uwagę wyniki wyborów do Sejmu z 2023 roku.\n\n</li></ol>'),s+='<form id="support-form"><button id="calculate-button">Oblicz</button></form>',e||(s+='<div id="url"></div>'),s+='<div class="charts-row"><div class="ct-chart" id="support-bar-chart"></div><div class="ct-chart" id="division-pie-chart"></div></div>',e||(s+='<div id="constituency-results"></div>'),s+="</main>",e||(s+='<footer><a class="github" href="https://github.com/drastus/sejm-calculator">Kod źródłowy</a><address>Kontakt: zrchos na serwerze gmail.com</address></footer>')}.call(this,"embed"in i?i.embed:"undefined"!=typeof embed?embed:void 0),s}},526:e=>{e.exports=function(e){return""+'<object id="constituencies-map"></object><div id="constituency-result"><p class="info"><em>Kliknij okręg, by zobaczyć szczegółowe wyniki.</em></p></div>'}},731:e=>{function t(e,t,s,n){if(!1===t||null==t||!t&&("class"===e||"style"===e))return"";if(!0===t)return" "+(n?e:e+'="'+e+'"');var a=typeof t;return"object"!==a&&"function"!==a||"function"!=typeof t.toJSON||(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),s||-1===t.indexOf('"'))?(s&&(t=i(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"}function s(e,t){return Array.isArray(e)?function(e,t){for(var n,a="",r="",o=Array.isArray(t),l=0;l<e.length;l++)(n=s(e[l]))&&(o&&t[l]&&(n=i(n)),a=a+r+n,r=" ");return a}(e,t):e&&"object"==typeof e?function(e){var t="",s="";for(var i in e)i&&e[i]&&n.call(e,i)&&(t=t+s+i,s=" ");return t}(e):e||""}function i(e){var t=""+e,s=a.exec(t);if(!s)return e;var i,n,r,o="";for(i=s.index,n=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}n!==i&&(o+=t.substring(n,i)),n=i+1,o+=r}return n!==i?o+t.substring(n,i):o}var n=Object.prototype.hasOwnProperty,a=/["&<>]/;function r(e){if(!e)return"";if("object"==typeof e){var t="";for(var s in e)n.call(e,s)&&(t=t+s+":"+e[s]+";");return t}return e+""}e.exports=function(e){var n,a="",o=e||{};return function(e){a+="<table><tr><th>Komitet</th><th>Poparcie</th><th>Mandaty</th></tr>",function(){var o=e;if("number"==typeof o.length)for(var l=0,c=o.length;l<c;l++){var d=o[l];a=a+"<tr"+(t("class",s([d.id],[!0]),!1,!0)+t("style",r("mn"==d.id?"display: none":""),!0,!0))+"><td><label"+t("for",d.id,!0,!0)+">"+i(null==(n=d.name)?"":n)+"</label></td><td>","mn"!==d.id&&(a=a+'<input type="number" step="any" min="0" max="100"'+t("id",d.id,!0,!0)+t("name",d.id,!0,!0)+">%"),a+="</td><td></td></tr>"}else for(var l in c=0,o)c++,d=o[l],a=a+"<tr"+(t("class",s([d.id],[!0]),!1,!0)+t("style",r("mn"==d.id?"display: none":""),!0,!0))+"><td><label"+t("for",d.id,!0,!0)+">"+i(null==(n=d.name)?"":n)+"</label></td><td>","mn"!==d.id&&(a=a+'<input type="number" step="any" min="0" max="100"'+t("id",d.id,!0,!0)+t("name",d.id,!0,!0)+">%"),a+="</td><td></td></tr>"}.call(this),a+="</table>"}.call(this,"committees"in o?o.committees:"undefined"!=typeof committees?committees:void 0),a}}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=i[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{"use strict";const e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function i(e,t){return"number"==typeof e?e+t:e}function n(e){if("string"==typeof e){const t=/^(\d+)\s*(.*)$/g.exec(e);return{value:t?+t[1]:0,unit:(null==t?void 0:t[2])||void 0}}return{value:Number(e)}}function a(e){return String.fromCharCode(97+e%26)}const r=2221e-19;function o(e,t,s){return t/s.range*e}function l(e,t){const s=Math.pow(10,t||8);return Math.round(e*s)/s}function c(e,t,s,i){const n=(i-90)*Math.PI/180;return{x:e+s*Math.cos(n),y:t+s*Math.sin(n)}}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];for(let t=0;t<s.length;t++){const i=s[t];for(const t in i){const s=i[t];e[t]="object"!=typeof s||null===s||s instanceof Array?s:d(e[t],s)}}return e}const u=e=>e;function h(e,t){return Array.from({length:e},t?(e,s)=>t(s):()=>{})}const p=(e,t)=>e+(t||0);function m(e,t){return null!==e&&"object"==typeof e&&Reflect.has(e,t)}function f(e){return null!==e&&isFinite(e)}function g(e){return!e&&0!==e}function y(e){return f(e)?Number(e):void 0}function w(e){return null==e||"number"==typeof e&&isNaN(e)}function v(e,t,s){const i={high:void 0===(t={...t,...s?"x"===s?t.axisX:t.axisY:{}}).high?-Number.MAX_VALUE:+t.high,low:void 0===t.low?Number.MAX_VALUE:+t.low},n=void 0===t.high,a=void 0===t.low;return(n||a)&&function e(t){if(!w(t))if(Array.isArray(t))for(let s=0;s<t.length;s++)e(t[s]);else{const e=Number(s&&m(t,s)?t[s]:t);n&&e>i.high&&(i.high=e),a&&e<i.low&&(i.low=e)}}(e),(t.referenceValue||0===t.referenceValue)&&(i.high=Math.max(t.referenceValue,i.high),i.low=Math.min(t.referenceValue,i.low)),i.high<=i.low&&(0===i.low?i.high=1:i.low<0?i.high=0:(i.high>0||(i.high=1),i.low=0)),i}function x(e){let t,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const a={labels:(e.labels||[]).slice(),series:z(e.series,i,n)},r=a.labels.length;return function(e){return!!Array.isArray(e)&&e.every(Array.isArray)}(a.series)?(t=Math.max(r,...a.series.map((e=>e.length))),a.series.forEach((e=>{e.push(...h(Math.max(0,t-e.length)))}))):t=a.series.length,a.labels.push(...h(Math.max(0,t-r),(()=>""))),s&&function(e){var t;null===(t=e.labels)||void 0===t||t.reverse(),e.series.reverse();for(const t of e.series)m(t,"data")?t.data.reverse():Array.isArray(t)&&t.reverse()}(a),a}function b(e,t){if(!w(e))return t?function(e,t){let s,i;if("object"!=typeof e){const n=y(e);"x"===t?s=n:i=n}else m(e,"x")&&(s=y(e.x)),m(e,"y")&&(i=y(e.y));if(void 0!==s||void 0!==i)return{x:s,y:i}}(e,t):y(e)}function k(e,t){return Array.isArray(e)?e.map((e=>m(e,"value")?b(e.value,t):b(e,t))):k(e.data,t)}function z(e,t,s){if(i=e,Array.isArray(i)&&i.every((e=>Array.isArray(e)||m(e,"data"))))return e.map((e=>k(e,t)));var i;const n=k(e,t);return s?n.map((e=>[e])):n}function E(e){let s="";return null==e?e:(s="number"==typeof e?""+e:"object"==typeof e?JSON.stringify({data:e}):String(e),Object.keys(t).reduce(((e,s)=>e.replaceAll(s,t[s])),s))}class S{call(e,t){return this.svgElements.forEach((s=>Reflect.apply(s[e],s,t))),this}attr(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("attr",t)}elem(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("elem",t)}root(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("root",t)}getNode(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("getNode",t)}foreignObject(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("foreignObject",t)}text(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("text",t)}empty(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("empty",t)}remove(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("remove",t)}addClass(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("addClass",t)}removeClass(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("removeClass",t)}removeAllClasses(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("removeAllClasses",t)}animate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.call("animate",t)}constructor(e){this.svgElements=[];for(let t=0;t<e.length;t++)this.svgElements.push(new M(e[t]))}}const j={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function A(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;const{easing:o,...l}=s,c={};let d,u;o&&(d=Array.isArray(o)?o:j[o]),l.begin=i(l.begin,"ms"),l.dur=i(l.dur,"ms"),d&&(l.calcMode="spline",l.keySplines=d.join(" "),l.keyTimes="0;1"),a&&(l.fill="freeze",c[t]=l.from,e.attr(c),u=n(l.begin||0).value,l.begin="indefinite");const h=e.elem("animate",{attributeName:t,...l});a&&setTimeout((()=>{try{h._node.beginElement()}catch(s){c[t]=l.to,e.attr(c),h.remove()}}),u);const p=h.getNode();r&&p.addEventListener("beginEvent",(()=>r.emit("animationBegin",{element:e,animate:p,params:s}))),p.addEventListener("endEvent",(()=>{r&&r.emit("animationEnd",{element:e,animate:p,params:s}),a&&(c[t]=l.to,e.attr(c),h.remove())}))}class M{attr(t,s){return"string"==typeof t?s?this._node.getAttributeNS(s,t):this._node.getAttribute(t):(Object.keys(t).forEach((s=>{if(void 0!==t[s])if(-1!==s.indexOf(":")){const i=s.split(":");this._node.setAttributeNS(e[i[0]],s,String(t[s]))}else this._node.setAttribute(s,String(t[s]))})),this)}elem(e,t,s){return new M(e,t,s,this,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}parent(){return this._node.parentNode instanceof SVGElement?new M(this._node.parentNode):null}root(){let e=this._node;for(;"svg"!==e.nodeName&&e.parentElement;)e=e.parentElement;return new M(e)}querySelector(e){const t=this._node.querySelector(e);return t?new M(t):null}querySelectorAll(e){const t=this._node.querySelectorAll(e);return new S(t)}getNode(){return this._node}foreignObject(t,s,i){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("string"==typeof t){const e=document.createElement("div");e.innerHTML=t,n=e.firstChild}else n=t;n instanceof Element&&n.setAttribute("xmlns",e.xmlns);const r=this.elem("foreignObject",s,i,a);return r._node.appendChild(n),r}text(e){return this._node.appendChild(document.createTextNode(e)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var e;return null===(e=this._node.parentNode)||void 0===e||e.removeChild(this._node),this.parent()}replace(e){var t;return null===(t=this._node.parentNode)||void 0===t||t.replaceChild(e._node,this._node),e}append(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this}classes(){const e=this._node.getAttribute("class");return e?e.trim().split(/\s+/):[]}addClass(e){return this._node.setAttribute("class",this.classes().concat(e.trim().split(/\s+/)).filter((function(e,t,s){return s.indexOf(e)===t})).join(" ")),this}removeClass(e){const t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter((e=>-1===t.indexOf(e))).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.getBoundingClientRect().height}width(){return this._node.getBoundingClientRect().width}animate(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2?arguments[2]:void 0;return Object.keys(e).forEach((i=>{const n=e[i];Array.isArray(n)?n.forEach((e=>A(this,i,e,!1,s))):A(this,i,n,t,s)})),this}constructor(t,s,i,n,a=!1){t instanceof Element?this._node=t:(this._node=document.createElementNS(e.svg,t),"svg"===t&&this.attr({"xmlns:ct":e.ct})),s&&this.attr(s),i&&this.addClass(i),n&&(a&&n._node.firstChild?n._node.insertBefore(this._node,n._node.firstChild):n._node.appendChild(this._node))}}function L(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",n=arguments.length>3?arguments[3]:void 0;Array.from(t.querySelectorAll("svg")).filter((t=>t.getAttributeNS(e.xmlns,"ct"))).forEach((e=>t.removeChild(e)));const a=new M("svg").attr({width:s,height:i}).attr({style:"width: ".concat(s,"; height: ").concat(i,";")});return n&&a.addClass(n),t.appendChild(a.getNode()),a}function O(e,t){var s,i,a,r;const o=Boolean(t.axisX||t.axisY),l=(null===(s=t.axisY)||void 0===s?void 0:s.offset)||0,c=(null===(i=t.axisX)||void 0===i?void 0:i.offset)||0,d=null===(a=t.axisY)||void 0===a?void 0:a.position,u=null===(r=t.axisX)||void 0===r?void 0:r.position;let h=e.width()||n(t.width).value||0,p=e.height()||n(t.height).value||0;const m="number"==typeof(f=t.chartPadding)?{top:f,right:f,bottom:f,left:f}:void 0===f?{top:0,right:0,bottom:0,left:0}:{top:"number"==typeof f.top?f.top:0,right:"number"==typeof f.right?f.right:0,bottom:"number"==typeof f.bottom?f.bottom:0,left:"number"==typeof f.left?f.left:0};var f;h=Math.max(h,l+m.left+m.right),p=Math.max(p,c+m.top+m.bottom);const g={x1:0,x2:0,y1:0,y2:0,padding:m,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return o?("start"===u?(g.y2=m.top+c,g.y1=Math.max(p-m.bottom,g.y2+1)):(g.y2=m.top,g.y1=Math.max(p-m.bottom-c,g.y2+1)),"start"===d?(g.x1=m.left+l,g.x2=Math.max(h-m.right,g.x1+1)):(g.x1=m.left,g.x2=Math.max(h-m.right-l,g.x1+1))):(g.x1=m.left,g.x2=Math.max(h-m.right,g.x1+1),g.y2=m.top,g.y1=Math.max(p-m.bottom,g.y2+1)),g}function N(e,t,s){let i;const n=[];function a(n){const a=i;i=d({},e),t&&t.forEach((e=>{window.matchMedia(e[0]).matches&&(i=d(i,e[1]))})),s&&n&&s.emit("optionsChanged",{previousOptions:a,currentOptions:i})}if(!window.matchMedia)throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return t&&t.forEach((e=>{const t=window.matchMedia(e[0]);t.addEventListener("change",a),n.push(t)})),a(),{removeMediaQueryListeners:function(){n.forEach((e=>e.removeEventListener("change",a)))},getCurrentOptions:()=>i}}M.Easing=j;const C={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},B={accuracy:3};function I(e,t,s,i,n,a){const r={command:n?e.toLowerCase():e.toUpperCase(),...t,...a?{data:a}:{}};s.splice(i,0,r)}function _(e,t){e.forEach(((s,i)=>{C[s.command.toLowerCase()].forEach(((n,a)=>{t(s,n,i,a,e)}))}))}class P{static join(e){const t=new P(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);for(let s=0;s<e.length;s++){const i=e[s];for(let e=0;e<i.pathElements.length;e++)t.pathElements.push(i.pathElements[e])}return t}position(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos}remove(e){return this.pathElements.splice(this.pos,e),this}move(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return I("M",{x:+e,y:+t},this.pathElements,this.pos++,s,i),this}line(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return I("L",{x:+e,y:+t},this.pathElements,this.pos++,s,i),this}curve(e,t,s,i,n,a){let r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0;return I("C",{x1:+e,y1:+t,x2:+s,y2:+i,x:+n,y:+a},this.pathElements,this.pos++,r,o),this}arc(e,t,s,i,n,a,r){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;return I("A",{rx:e,ry:t,xAr:s,lAf:i,sf:n,x:a,y:r},this.pathElements,this.pos++,o,l),this}parse(e){const t=e.replace(/([A-Za-z])(-?[0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(((e,t)=>(t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e)),[]);"Z"===t[t.length-1][0].toUpperCase()&&t.pop();const s=t.map((e=>{const t=e.shift(),s=C[t.toLowerCase()];return{command:t,...s.reduce(((t,s,i)=>(t[s]=+e[i],t)),{})}}));return this.pathElements.splice(this.pos,0,...s),this.pos+=s.length,this}stringify(){const e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(((t,s)=>{const i=C[s.command.toLowerCase()].map((t=>{const i=s[t];return this.options.accuracy?Math.round(i*e)/e:i}));return t+s.command+i.join(",")}),"")+(this.close?"Z":"")}scale(e,t){return _(this.pathElements,((s,i)=>{s[i]*="x"===i[0]?e:t})),this}translate(e,t){return _(this.pathElements,((s,i)=>{s[i]+="x"===i[0]?e:t})),this}transform(e){return _(this.pathElements,((t,s,i,n,a)=>{const r=e(t,s,i,n,a);(r||0===r)&&(t[s]=r)})),this}clone(){const e=new P(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map((e=>({...e}))),e.options={...this.options},e}splitByCommand(e){const t=[new P];return this.pathElements.forEach((s=>{s.command===e.toUpperCase()&&0!==t[t.length-1].pathElements.length&&t.push(new P),t[t.length-1].pathElements.push(s)})),t}constructor(e=!1,t){this.close=e,this.pathElements=[],this.pos=0,this.options={...B,...t}}}class T{on(e,t){const{allListeners:s,listeners:i}=this;"*"===e?s.add(t):(i.has(e)||i.set(e,new Set),i.get(e).add(t))}off(e,t){const{allListeners:s,listeners:i}=this;if("*"===e)t?s.delete(t):s.clear();else if(i.has(e)){const s=i.get(e);t?s.delete(t):s.clear(),s.size||i.delete(e)}}emit(e,t){const{allListeners:s,listeners:i}=this;i.has(e)&&i.get(e).forEach((e=>e(t))),s.forEach((s=>s(e,t)))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const q=new WeakMap;class R{update(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i;return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),t&&(this.options=d({},s?this.options:this.defaultOptions,t),this.initializeTimeoutId||(null===(i=this.optionsProvider)||void 0===i||i.removeMediaQueryListeners(),this.optionsProvider=N(this.options,this.responsiveOptions,this.eventEmitter))),!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){var e;return this.initializeTimeoutId?window.clearTimeout(this.initializeTimeoutId):(window.removeEventListener("resize",this.resizeListener),null===(e=this.optionsProvider)||void 0===e||e.removeMediaQueryListeners()),q.delete(this.container),this}on(e,t){return this.eventEmitter.on(e,t),this}off(e,t){return this.eventEmitter.off(e,t),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=N(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",(()=>this.update())),this.options.plugins&&this.options.plugins.forEach((e=>{Array.isArray(e)?e[0](this,e[1]):e(this)})),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(e,t,s,i,n){this.data=t,this.defaultOptions=s,this.options=i,this.responsiveOptions=n,this.eventEmitter=new T,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout((()=>this.initialize()),0);const a="string"==typeof e?document.querySelector(e):e;if(!a)throw new Error("Target element is not found");this.container=a;const r=q.get(a);r&&r.detach(),q.set(a,this)}}const V={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};class D{createGridAndLabels(e,t,s,i){const n="x"===this.units.pos?s.axisX:s.axisY,a=this.ticks.map(((e,t)=>this.projectValue(e,t))),r=this.ticks.map(n.labelInterpolationFnc);a.forEach(((o,l)=>{const c=r[l],d={x:0,y:0};let u;u=a[l+1]?a[l+1]-o:Math.max(this.axisLength-o,this.axisLength/this.ticks.length),""!==c&&g(c)||("x"===this.units.pos?(o=this.chartRect.x1+o,d.x=s.axisX.labelOffset.x,"start"===s.axisX.position?d.y=this.chartRect.padding.top+s.axisX.labelOffset.y+5:d.y=this.chartRect.y1+s.axisX.labelOffset.y+5):(o=this.chartRect.y1-o,d.y=s.axisY.labelOffset.y-u,"start"===s.axisY.position?d.x=this.chartRect.padding.left+s.axisY.labelOffset.x:d.x=this.chartRect.x2+s.axisY.labelOffset.x+10),n.showGrid&&function(e,t,s,i,n,a,r,o){const l={["".concat(s.units.pos,"1")]:e,["".concat(s.units.pos,"2")]:e,["".concat(s.counterUnits.pos,"1")]:i,["".concat(s.counterUnits.pos,"2")]:i+n},c=a.elem("line",l,r.join(" "));o.emit("draw",{type:"grid",axis:s,index:t,group:a,element:c,...l})}(o,l,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[s.classNames.grid,s.classNames[this.units.dir]],i),n.showLabel&&function(e,t,s,i,n,a,r,o,l,c){const d={[n.units.pos]:e+r[n.units.pos],[n.counterUnits.pos]:r[n.counterUnits.pos],[n.units.len]:t,[n.counterUnits.len]:Math.max(0,a-10)},u=Math.round(d[n.units.len]),h=Math.round(d[n.counterUnits.len]),p=document.createElement("span");p.className=l.join(" "),p.style[n.units.len]=u+"px",p.style[n.counterUnits.len]=h+"px",p.textContent=String(i);const m=o.foreignObject(p,{style:"overflow: visible;",...d});c.emit("draw",{type:"label",axis:n,index:s,group:o,element:m,text:i,...d})}(o,u,l,c,this,n.offset,d,t,[s.classNames.label,s.classNames[this.units.dir],"start"===n.position?s.classNames[n.position]:s.classNames.end],i))}))}constructor(e,t,s){this.units=e,this.chartRect=t,this.ticks=s,this.counterUnits=e===V.x?V.y:V.x,this.axisLength=t[this.units.rectEnd]-t[this.units.rectStart],this.gridOffset=t[this.units.rectOffset]}}class U extends D{projectValue(e){const t=Number(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return function(e){return"object"==typeof e&&null!==e&&(Reflect.has(e,"x")||Reflect.has(e,"y"))}(e)&&m(e,t)?y(e[t]):y(e)}(e,this.units.pos));return this.axisLength*(t-this.bounds.min)/this.bounds.range}constructor(e,t,s,i){const n=i.highLow||v(t,i,e.pos),a=function(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n={high:t.high,low:t.low,valueRange:0,oom:0,step:0,min:0,max:0,range:0,numberOfSteps:0,values:[]};var a;n.valueRange=n.high-n.low,n.oom=(a=n.valueRange,Math.floor(Math.log(Math.abs(a))/Math.LN10)),n.step=Math.pow(10,n.oom),n.min=Math.floor(n.low/n.step)*n.step,n.max=Math.ceil(n.high/n.step)*n.step,n.range=n.max-n.min,n.numberOfSteps=Math.round(n.range/n.step);const c=o(e,n.step,n)<s,d=i?function(e){if(1===e)return e;function t(e,s){return e%s==0?s:t(s,e%s)}function s(e){return e*e+1}let i,n=2,a=2;if(e%2==0)return 2;do{n=s(n)%e,a=s(s(a))%e,i=t(Math.abs(n-a),e)}while(1===i);return i}(n.range):0;if(i&&o(e,1,n)>=s)n.step=1;else if(i&&d<n.step&&o(e,d,n)>=s)n.step=d;else{let t=0;for(;;){if(c&&o(e,n.step,n)<=s)n.step*=2;else{if(c||!(o(e,n.step/2,n)>=s))break;if(n.step/=2,i&&n.step%1!=0){n.step*=2;break}}if(t++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}function u(e,t){return e===(e+=t)&&(e*=1+(t>0?r:-2221e-19)),e}n.step=Math.max(n.step,r);let h=n.min,p=n.max;for(;h+n.step<=n.low;)h=u(h,n.step);for(;p-n.step>=n.high;)p=u(p,-n.step);n.min=h,n.max=p,n.range=n.max-n.min;const m=[];for(let e=n.min;e<=n.max;e=u(e,n.step)){const t=l(e);t!==m[m.length-1]&&m.push(t)}return n.values=m,n}(s[e.rectEnd]-s[e.rectStart],n,i.scaleMinSpace||20,i.onlyInteger),c={min:a.min,max:a.max};super(e,s,a.values),this.bounds=a,this.range=c}}class X extends D{projectValue(e,t){return this.stepLength*t}constructor(e,t,s,i){const n=i.ticks||[];super(e,s,n);const a=Math.max(1,n.length-(i.stretch?1:0));this.stepLength=this.axisLength/a,this.stretch=Boolean(i.stretch)}}const Y={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:u,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:u,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};class K extends R{createChart(e){const{data:t}=this,s=x(t,e.reverseData,e.horizontalBars?"x":"y",!0),i=L(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:"")),n=e.stackBars&&!0!==e.stackMode&&s.series.length?v([(r=s.series,o=r,l=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Array.from(t).reduce(((e,t)=>({x:e.x+(m(t,"x")?t.x:0),y:e.y+(m(t,"y")?t.y:0)})),{x:0,y:0})},h(Math.max(...o.map((e=>e.length))),(e=>l(...o.map((t=>t[e]))))))],e,e.horizontalBars?"x":"y"):v(s.series,e,e.horizontalBars?"x":"y");var r,o,l;this.svg=i;const c=i.elem("g").addClass(e.classNames.gridGroup),d=i.elem("g"),u=i.elem("g").addClass(e.classNames.labelGroup);"number"==typeof e.high&&(n.high=e.high),"number"==typeof e.low&&(n.low=e.low);const p=O(i,e);let g;const y=e.distributeSeries&&e.stackBars?s.labels.slice(0,1):s.labels;let w,b,k;e.horizontalBars?(g=b=void 0===e.axisX.type?new U(V.x,s.series,p,{...e.axisX,highLow:n,referenceValue:0}):new e.axisX.type(V.x,s.series,p,{...e.axisX,highLow:n,referenceValue:0}),w=k=void 0===e.axisY.type?new X(V.y,s.series,p,{ticks:y}):new e.axisY.type(V.y,s.series,p,e.axisY)):(w=b=void 0===e.axisX.type?new X(V.x,s.series,p,{ticks:y}):new e.axisX.type(V.x,s.series,p,e.axisX),g=k=void 0===e.axisY.type?new U(V.y,s.series,p,{...e.axisY,highLow:n,referenceValue:0}):new e.axisY.type(V.y,s.series,p,{...e.axisY,highLow:n,referenceValue:0}));const z=e.horizontalBars?p.x1+g.projectValue(0):p.y1-g.projectValue(0),S="accumulate"===e.stackMode,j="accumulate-relative"===e.stackMode,A=[],M=[];let N=A;w.createGridAndLabels(c,u,e,this.eventEmitter),g.createGridAndLabels(c,u,e,this.eventEmitter),e.showGridBackground&&function(e,t,s,i){const n=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},s,!0);i.emit("draw",{type:"gridBackground",group:e,element:n})}(c,p,e.classNames.gridBackground,this.eventEmitter),function(e,t){let s=0;e[arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"reduceRight":"reduce"](((e,i,n)=>t(i,s++,n)),void 0)}(t.series,((i,n)=>{const r=n-(t.series.length-1)/2;let o;o=e.distributeSeries&&!e.stackBars?w.axisLength/s.series.length/2:e.distributeSeries&&e.stackBars?w.axisLength/2:w.axisLength/s.series[n].length/2;const l=d.elem("g"),c=m(i,"name")&&i.name,u=m(i,"className")&&i.className,h=m(i,"meta")?i.meta:void 0;c&&l.attr({"ct:series-name":c}),h&&l.attr({"ct:meta":E(h)}),l.addClass([e.classNames.series,u||"".concat(e.classNames.series,"-").concat(a(n))].join(" ")),s.series[n].forEach(((t,a)=>{const c=m(t,"x")&&t.x,d=m(t,"y")&&t.y;let u,h;u=e.distributeSeries&&!e.stackBars?n:e.distributeSeries&&e.stackBars?0:a,h=e.horizontalBars?{x:p.x1+g.projectValue(c||0,a,s.series[n]),y:p.y1-w.projectValue(d||0,u,s.series[n])}:{x:p.x1+w.projectValue(c||0,u,s.series[n]),y:p.y1-g.projectValue(d||0,a,s.series[n])},w instanceof X&&(w.stretch||(h[w.units.pos]+=o*(e.horizontalBars?-1:1)),h[w.units.pos]+=e.stackBars||e.distributeSeries?0:r*e.seriesBarDistance*(e.horizontalBars?-1:1)),j&&(N=d>=0||c>=0?A:M);const y=N[a]||z;if(N[a]=y-(z-h[w.counterUnits.pos]),void 0===t)return;const v={["".concat(w.units.pos,"1")]:h[w.units.pos],["".concat(w.units.pos,"2")]:h[w.units.pos]};e.stackBars&&(S||j||!e.stackMode)?(v["".concat(w.counterUnits.pos,"1")]=y,v["".concat(w.counterUnits.pos,"2")]=N[a]):(v["".concat(w.counterUnits.pos,"1")]=z,v["".concat(w.counterUnits.pos,"2")]=h[w.counterUnits.pos]),v.x1=Math.min(Math.max(v.x1,p.x1),p.x2),v.x2=Math.min(Math.max(v.x2,p.x1),p.x2),v.y1=Math.min(Math.max(v.y1,p.y2),p.y1),v.y2=Math.min(Math.max(v.y2,p.y2),p.y1);const x=function(e,t){const s=Array.isArray(e)?e[t]:m(e,"data")?e.data[t]:null;return m(s,"meta")?s.meta:void 0}(i,a),L=l.elem("line",v,e.classNames.bar).attr({"ct:value":[c,d].filter(f).join(","),"ct:meta":E(x)});this.eventEmitter.emit("draw",{type:"bar",value:t,index:a,meta:x,series:i,seriesIndex:n,axisX:b,axisY:k,chartRect:p,group:l,element:L,...v})}))}),e.reverseData),this.eventEmitter.emit("created",{chartRect:p,axisX:b,axisY:k,svg:i,options:e})}constructor(e,t,s,i){super(e,t,Y,d({},Y,s),i),this.data=t}}const G={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:u,labelDirection:"neutral",ignoreEmptyValues:!1};function H(e,t,s){const i=t.x>e.x;return i&&"explode"===s||!i&&"implode"===s?"start":i&&"implode"===s||!i&&"explode"===s?"end":"middle"}class $ extends R{createChart(e){const{data:t}=this,s=x(t),i=[];let r,o,l=e.startAngle;const d=L(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie);this.svg=d;const u=O(d,e);let h=Math.min(u.width()/2,u.height()/2);const f=e.total||s.series.reduce(p,0),y=n(e.donutWidth);"%"===y.unit&&(y.value*=h/100),h-=e.donut?y.value/2:0,o="outside"===e.labelPosition||e.donut?h:"center"===e.labelPosition?0:h/2,e.labelOffset&&(o+=e.labelOffset);const w={x:u.x1+u.width()/2,y:u.y2+u.height()/2},v=1===t.series.filter((e=>m(e,"value")?0!==e.value:0!==e)).length;t.series.forEach(((e,t)=>i[t]=d.elem("g"))),e.showLabel&&(r=d.elem("g")),t.series.forEach(((n,d)=>{var p,x;if(0===s.series[d]&&e.ignoreEmptyValues)return;const b=m(n,"name")&&n.name,k=m(n,"className")&&n.className,z=m(n,"meta")?n.meta:void 0;b&&i[d].attr({"ct:series-name":b}),i[d].addClass([null===(p=e.classNames)||void 0===p?void 0:p.series,k||"".concat(null===(x=e.classNames)||void 0===x?void 0:x.series,"-").concat(a(d))].join(" "));let S=f>0?l+s.series[d]/f*360:0;const j=Math.max(0,l-(0===d||v?0:.2));S-j>=359.99&&(S=j+359.99);const A=c(w.x,w.y,h,j),M=c(w.x,w.y,h,S),L=new P(!e.donut).move(M.x,M.y).arc(h,h,0,Number(S-l>180),0,A.x,A.y);e.donut||L.line(w.x,w.y);const O=i[d].elem("path",{d:L.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);if(O.attr({"ct:value":s.series[d],"ct:meta":E(z)}),e.donut&&O.attr({style:"stroke-width: "+y.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:s.series[d],totalDataSum:f,index:d,meta:z,series:n,group:i[d],element:O,path:L.clone(),center:w,radius:h,startAngle:l,endAngle:S,chartRect:u}),e.showLabel){let i,a;i=1===t.series.length?{x:w.x,y:w.y}:c(w.x,w.y,o,l+(S-l)/2),a=s.labels&&!g(s.labels[d])?s.labels[d]:s.series[d];const h=e.labelInterpolationFnc(a,d);if(h||0===h){const t=r.elem("text",{dx:i.x,dy:i.y,"text-anchor":H(w,i,e.labelDirection)},e.classNames.label).text(String(h));this.eventEmitter.emit("draw",{type:"label",index:d,group:r,element:t,text:""+h,chartRect:u,series:n,meta:z,...i})}}l=S})),this.eventEmitter.emit("created",{chartRect:u,svg:d,options:e})}constructor(e,t,s,i){super(e,t,G,d({},G,s),i),this.data=t}}const F={pis:35.38,ko:30.7,td:14.4,lewica:8.61,konfederacja:7.16},Q=[{id:"pis",name:"Prawo i Sprawiedliwość",shortName:"PiS",threshold:5,pastSupportEquivalence:[["pis",1]]},{id:"ko",name:"Koalicja Obywatelska",shortName:"KO",threshold:8,pastSupportEquivalence:[["ko",1]]},{id:"td",name:"Trzecia Droga",shortName:"TD",threshold:8,pastSupportEquivalence:[["td",1]]},{id:"lewica",name:"Lewica",shortName:"Lew.",threshold:5,pastSupportEquivalence:[["lewica",1]]},{id:"konfederacja",name:"Konfederacja",shortName:"Konf.",threshold:5,pastSupportEquivalence:[["konfederacja",1]]},{id:"mn",name:"Mniejszość Niemiecka",shortName:"MN",threshold:0,pastSupportEquivalence:[]}],W=["lewica","ko","mn","td","pis","konfederacja"],J=[{name:"Legnica",size:12,pastSupport:{pis:34.8,ko:33.78,td:10.75,lewica:9.51,konfederacja:6.33}},{name:"Wałbrzych",size:8,pastSupport:{ko:37.17,pis:33.34,td:12.13,lewica:7.98,konfederacja:6.02}},{name:"Wrocław",size:14,pastSupport:{ko:36.94,pis:26.66,td:13.74,lewica:11.35,konfederacja:6.98}},{name:"Bydgoszcz",size:12,pastSupport:{ko:35.01,pis:30.45,td:15.06,lewica:9.92,konfederacja:6.42}},{name:"Toruń",size:13,pastSupport:{pis:34.06,ko:29.52,td:15.68,lewica:11.25,konfederacja:6.37}},{name:"Lublin",size:15,pastSupport:{pis:45.48,ko:20.32,td:15.87,konfederacja:8.38,lewica:5.72}},{name:"Chełm",size:12,pastSupport:{pis:50.75,ko:17.4,td:13.04,konfederacja:7.79,lewica:5.62}},{name:"Zielona Góra",size:12,pastSupport:{ko:37.73,pis:27.76,td:15.07,lewica:9.27,konfederacja:6.51}},{name:"Łódź",size:10,pastSupport:{ko:41.07,pis:26.82,lewica:12.22,td:11.89,konfederacja:5.57}},{name:"Piotrków Trybunalski",size:9,pastSupport:{pis:46.6,ko:21.69,td:13.73,konfederacja:7.62,lewica:6.39}},{name:"Sieradz",size:12,pastSupport:{pis:41.46,ko:25.89,td:14.5,lewica:7.73,konfederacja:6.82}},{name:"Chrzanów",size:8,pastSupport:{pis:42.86,ko:24.24,td:14.97,konfederacja:7.88,lewica:6.04}},{name:"Kraków",size:14,pastSupport:{ko:30.73,pis:30.68,td:16.86,lewica:11.04,konfederacja:7.71}},{name:"Nowy Sącz",size:10,pastSupport:{pis:53.73,ko:16.1,td:11.58,konfederacja:8.73,lewica:3.18}},{name:"Tarnów",size:9,pastSupport:{pis:48.67,td:18.64,ko:17.02,konfederacja:7.99,lewica:4}},{name:"Płock",size:10,pastSupport:{pis:44.11,ko:22.4,td:17.07,konfederacja:6.52,lewica:6.52}},{name:"Radom",size:9,pastSupport:{pis:48.68,ko:20.96,td:13.98,konfederacja:7.31,lewica:5.34}},{name:"Siedlce",size:12,pastSupport:{pis:48.62,ko:18.71,td:15.51,konfederacja:8.21,lewica:4.85}},{name:"Warszawa I",size:20,pastSupport:{ko:43.23,pis:20.14,lewica:13.45,td:13.25,konfederacja:7.24}},{name:"Warszawa II",size:12,pastSupport:{ko:35.23,pis:31.74,td:15.06,konfederacja:7.06,lewica:7.06}},{name:"Opole",size:12,pastSupport:{ko:33.59,pis:31.26,td:12.74,lewica:7.24,konfederacja:6.49}},{name:"Krosno",size:11,pastSupport:{pis:54.7,ko:15.85,td:13.79,konfederacja:8.62,lewica:4.47}},{name:"Rzeszów",size:15,pastSupport:{pis:51.6,ko:17.7,td:12.42,konfederacja:9.48,lewica:4.87}},{name:"Białystok",size:14,pastSupport:{pis:42.39,ko:20.84,td:18.86,konfederacja:9.79,lewica:4.84}},{name:"Gdańsk",size:12,pastSupport:{ko:41.7,pis:25.2,td:14.7,lewica:9.41,konfederacja:6.23}},{name:"Gdynia",size:14,pastSupport:{ko:37.91,pis:29.24,td:13.59,lewica:8.33,konfederacja:7.21}},{name:"Bielsko-Biała",size:9,pastSupport:{pis:36.71,ko:28.67,td:14.55,konfederacja:7.84,lewica:7.77}},{name:"Częstochowa",size:7,pastSupport:{pis:36.35,ko:29.11,td:14.72,lewica:9.41,konfederacja:6.56}},{name:"Gliwice",size:9,pastSupport:{ko:36.06,pis:30.16,td:13.34,lewica:9.21,konfederacja:6.95}},{name:"Rybnik",size:9,pastSupport:{pis:38.06,ko:29.98,td:12.45,konfederacja:8,lewica:6.84}},{name:"Katowice",size:12,pastSupport:{ko:36.79,pis:30.88,td:13.27,lewica:8.46,konfederacja:6.7}},{name:"Sosnowiec",size:9,pastSupport:{ko:30.3,pis:29.74,lewica:21.6,td:9.85,konfederacja:5.69}},{name:"Kielce",size:16,pastSupport:{pis:47.07,ko:20.93,td:13.8,lewica:6.83,konfederacja:6.55}},{name:"Elbląg",size:8,pastSupport:{pis:35.2,ko:31.87,td:15.4,lewica:8.11,konfederacja:6.54}},{name:"Olsztyn",size:10,pastSupport:{ko:33.07,pis:32.33,td:16.11,lewica:8.09,konfederacja:6.93}},{name:"Kalisz",size:12,pastSupport:{pis:35.85,ko:28.58,td:16.16,lewica:8.52,konfederacja:6.98}},{name:"Konin",size:9,pastSupport:{pis:38.69,ko:23.99,td:16.63,lewica:9.48,konfederacja:6.97}},{name:"Piła",size:9,pastSupport:{ko:34.87,pis:29.11,td:17.66,lewica:7.84,konfederacja:6.87}},{name:"Poznań",size:10,pastSupport:{ko:44.09,pis:19.57,td:16.54,lewica:12.31,konfederacja:5.9}},{name:"Koszalin",size:8,pastSupport:{ko:38.69,pis:31.36,td:12.35,lewica:8.72,konfederacja:6.02}},{name:"Szczecin",size:12,pastSupport:{ko:40.13,pis:28.79,td:12.62,lewica:9.39,konfederacja:5.94}}];var Z=s(526),ee=s.n(Z),te=s(483),se=s.n(te),ie=s(731),ne=s.n(ie);const ae=s.p+"images/c41.svg",{location:re}=window;let oe=null,le=null;const ce=e=>`${e.toLocaleString("pl",{minimumFractionDigits:0,maximumFractionDigits:1})}%`,de=()=>{document.querySelectorAll("tr td:last-child").forEach((e=>{e.innerHTML=""})),oe&&oe.detach(),le&&le.detach();const e=document.getElementById("url");e&&(e.innerHTML=""),document.getElementById("support-bar-chart").innerHTML="",document.getElementById("division-pie-chart").innerHTML="";const t=document.getElementById("constituency-results");if(t&&(t.innerHTML=ee()()),re.search){const e=re.href.split("?")[0];window.history.pushState("","",e)}},ue=()=>{const e=document.querySelector("#support-form"),t=document.querySelectorAll("#support-form input"),s=Array.from(t).map((e=>parseFloat(e.value))).map((e=>Number.isNaN(e)?0:e));if(!((e,t,s)=>{t.forEach((e=>{e.setCustomValidity("")})),s.some(((e,s)=>e<0&&(t[s].setCustomValidity("Poparcie nie może byc mniejsze od 0%"),!0)));const i=s.reduce(((e,t)=>e+t),0);return i>100?t[0].setCustomValidity("Suma poparcia nie może przekraczać 100%"):i<=0&&t[0].setCustomValidity("Suma poparcia musi być wyższa niż 0%"),e.reportValidity()})(e,t,s))return;const i=(e=>{const t=Q.map((e=>e.pastSupportEquivalence.map((e=>F[e[0]]*e[1])).reduce(((e,t)=>e+t),0))),s=new Array(e.length+1).fill(0);return J.forEach((i=>{const n=((e,t,s)=>{const i=s.pastSupport,n=Q.map((e=>e.pastSupportEquivalence.map((e=>i[e[0]]*e[1])).reduce(((e,t)=>e+t),0))),a=t.map(((e,t)=>n[t]/e)),r=e.map(((e,t)=>e*a[t]));return"Opole"===s.name&&r.push(5.37),r})(e,t,i);i.support=n,i.mandates=new Array(n.length).fill(0);const a=n.map(((t,s)=>e[s]<Q[s].threshold?0:t)),r=[];for(let e=1;e<=i.size;e+=1)for(let t=0;t<n.length;t+=1)r.push({quotient:a[t]/e,committeeIndex:t});r.sort(((e,t)=>t.quotient-e.quotient)),r.slice(0,i.size).forEach((e=>{e.quotient>0&&(s[e.committeeIndex]+=1,i.mandates[e.committeeIndex]+=1)}))})),s})(s);(e=>{e.forEach(((e,t)=>{const s=Q[t].id,i=document.querySelector(`tr.${s} td:last-child`);i&&(i.textContent=e.toString()),5===t&&e>0&&i?.parentElement&&(i.parentElement.style.display="table-row")}))})(i),(e=>{if(document.getElementById("url")){const t=new URLSearchParams;e.forEach(((e,s)=>{e>0&&t.append(Q[s].id,e.toString())}));const s=`${re.href.split("?")[0]}?${t.toString()}`;document.getElementById("url").innerHTML=`Link do wyników: ${s.link(s)}`}})(s),oe=(e=>{const t=Q.map(((t,s)=>({label:t.shortName,support:{value:e[s],className:t.id}}))).filter((e=>e.support.value&&e.support.value>0)).sort(((e,t)=>t.support.value-e.support.value)),s={labels:t.map((e=>e.label)),series:t.map((e=>e.support))},i={distributeSeries:!0,axisY:{labelInterpolationFnc:ce}};document.getElementById("support-bar-chart").classList.add("ct-perfect-fourth");const n=new K("#support-bar-chart",s,i);return n.on("draw",(e=>{"bar"===e.type&&(e.element.attr({style:"stroke-width: 30px"}),e.group.append(new M("text",{x:e.x2+15,y:e.y2-5,"text-anchor":"end"},"bar-value").text(ce(e.value.y))))})),n})(s),le=(e=>{const t=Q.map(((t,s)=>({id:t.id,label:t.shortName,mandates:{value:e[s],className:t.id}}))).filter((e=>e.mandates.value&&e.mandates.value>0));t.sort(((e,t)=>W.indexOf(e.id)>W.indexOf(t.id)?1:-1));const s={series:t.map((e=>e.mandates))},i={donut:!0,donutWidth:60,startAngle:270,total:920,labelInterpolationFnc:(e,s)=>e<15?"":`${t[s].label} ${e}`};return document.getElementById("division-pie-chart").classList.add("ct-perfect-fourth"),new $("#division-pie-chart",s,i)})(i),(()=>{const e=document.getElementById("constituency-results");if(e){e.innerHTML=ee()();const t=document.getElementById("constituency-result"),s=document.getElementById("constituencies-map");s.setAttribute("data",ae),s.addEventListener("load",(()=>{const e=s.contentDocument,i=e.getElementById("constituency-number"),n=e.getElementById("constituency-name");e.querySelectorAll("svg path").forEach((e=>{const s=parseInt(e.dataset.cid,10),a=J[s-1],r=a.mandates&&a.support?a.mandates.map(((e,t)=>({committee:Q[t],support:a.support[t],mandates:e}))):[];r.sort(((e,t)=>t.support-e.support)),r[0].support===r[1].support?e.style.fill="lightgray":(e.classList.add(r[0].committee.id),r[0].support>=50?e.classList.add("bright50"):r[0].support<40&&e.classList.add("bright30")),e.addEventListener("mouseover",(e=>{const t=e.target;t.style.stroke="#444",i.innerHTML=`Okręg nr ${t.dataset.cid}`,n.innerHTML=t.dataset.cname})),e.addEventListener("mouseout",(e=>{e.target.style.stroke="#fff",i.innerHTML="",n.innerHTML=""})),e.addEventListener("click",(e=>{e.target.style.stroke="#ccc",t.innerHTML=se()({number:s,name:a.name,size:a.size,data:r})}))}))}))}})(),t.forEach((e=>{e.addEventListener("input",(()=>{de()}))}))},he=()=>{document.getElementById("support-form").insertAdjacentHTML("afterbegin",ne()({committees:Q}))},pe=()=>{re.search&&(new URLSearchParams(re.search).forEach(((e,t)=>{const s=document.querySelector(`tr.${t} td:nth-child(2) input`);s&&(s.value=e)})),ue())};var me=s(580),fe=s.n(me);const ge=()=>{document.body.innerHTML=fe()({embed:"#embed"===window.location.hash})},ye=e=>{e.preventDefault(),ue()};document.addEventListener("DOMContentLoaded",(()=>{ge(),he(),pe(),document.querySelector("#calculate-button").addEventListener("click",ye)})),window.addEventListener("popstate",(()=>{window.location.search?pe():(document.querySelectorAll("tr td:nth-child(2) input").forEach((e=>{e.value=""})),de())})),window.addEventListener("hashchange",(()=>{ge(),he(),pe()}))})()})();