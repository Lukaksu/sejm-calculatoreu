(()=>{var t={50:t=>{function e(t){var e=""+t,i=n.exec(e);if(!i)return t;var a,r,s,o="";for(a=i.index,r=0;a<e.length;a++){switch(e.charCodeAt(a)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}r!==a&&(o+=e.substring(r,a)),r=a+1,o+=s}return r!==a?o+e.substring(r,a):o}var n=/["&<>]/;t.exports=function(t){var n,i="",a=t||{};return function(t,a,r,s){i=i+'<div class="constituency"><h2>Okręg '+e(null==(n=r)?"":n)+" "+e(null==(n=a)?"":n)+"</h2><table><tr><th>Komitet</th><th>Poparcie</th><th>Mandaty</th></tr>",function(){var a=t;if("number"==typeof a.length)for(var r=0,s=a.length;r<s;r++){var o=a[r];i=i+"<tr><td>"+e(null==(n=o.committee.name)?"":n)+"</td><td>"+e(null==(n=o.support.toLocaleString("pl",{minimumFractionDigits:1,maximumFractionDigits:1}))?"":n)+"%</td><td>"+e(null==(n=o.mandates)?"":n)+"</td></tr>"}else for(var r in s=0,a)s++,o=a[r],i=i+"<tr><td>"+e(null==(n=o.committee.name)?"":n)+"</td><td>"+e(null==(n=o.support.toLocaleString("pl",{minimumFractionDigits:1,maximumFractionDigits:1}))?"":n)+"%</td><td>"+e(null==(n=o.mandates)?"":n)+"</td></tr>"}.call(this),i=i+"</table><p>Łącznie "+e(null==(n=s)?"":n)+" mandatów</p></div>"}.call(this,"data"in a?a.data:"undefined"!=typeof data?data:void 0,"name"in a?a.name:"undefined"!=typeof name?name:void 0,"number"in a?a.number:"undefined"!=typeof number?number:void 0,"size"in a?a.size:"undefined"!=typeof size?size:void 0),i}},587:t=>{function e(t,a){return Array.isArray(t)?function(t,i){for(var a,r="",s="",o=Array.isArray(i),c=0;c<t.length;c++)(a=e(t[c]))&&(o&&i[c]&&(a=n(a)),r=r+s+a,s=" ");return r}(t,a):t&&"object"==typeof t?function(t){var e="",n="";for(var a in t)a&&t[a]&&i.call(t,a)&&(e=e+n+a,n=" ");return e}(t):t||""}function n(t){var e=""+t,n=a.exec(e);if(!n)return t;var i,r,s,o="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}r!==i&&(o+=e.substring(r,i)),r=i+1,o+=s}return r!==i?o+e.substring(r,i):o}var i=Object.prototype.hasOwnProperty,a=/["&<>]/;t.exports=function(t){var n="",i=t||{};return function(t){n=n+"<main"+function(t,e,n,i){if(!1===e||null==e||!e)return"";if(!0===e)return" "+t;var a=typeof e;return"object"!==a&&"function"!==a||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||-1===(e=JSON.stringify(e)).indexOf('"')?' class="'+e+'"':" class='"+e.replace(/'/g,"&#39;")+"'"}("class",e([t?"embed":""],[!0]))+">",t||(n+='<h1>Kalkulator mandatów w wyborach do Sejmu</h1><p>Kalkulator zwraca szacowany rozkład mandatów w Sejmie na podstawie wyników sondażowych.\nObliczenia są dokonywane zgodnie z obowiązującą w Polsce ordynacją wyborczą, tj. stosując\nmetodę D’Hondta osobno w każdym z 41 okręgów wyborczych.</p><p>Dodatkowo poparcie dla poszczególnych komitetów w okręgach jest różnicowane na podstawie\nszczegółowych wyników ostatnich wyborów parlamentarnych. Ugrupowanie, które w danym okręgu miało\nwtedy poparcie wyższe/niższe niż w całym kraju, również w tej symulacji będzie miało w tym\nokręgu odpowiednio wyższe/niższe poparcie. Pozwala to na sporządzenie szczegółowej prognozy\npodziału mandatów na poziomie poszczególnych okręgów.</p><p class="updates-texts">Aktualizacje:</p><ol class="updates updates-texts"><li>2019-11-15: od teraz w prognozie brane są pod uwagę wyniki wyborów do Sejmu z 2019 roku.</li><li>2020-10-28: dodano partię polityczną Polska 2050; jej prognozowane poparcie w okręgach jest\nliczone na podstawie deklaracji wyborców Szymona Hołowni przedstawionych w artykule\n<a href="https://biqdata.wyborcza.pl/biqdata/7,159116,26083709,analiza-przeplywow-wyborcow-za-duda-tylko-pis-lewicowcy-nie.html"><i>Analiza przepływów wyborców</i></a> z 29 czerwca 2020 roku.</li><li>2023-08-21: dodano koalicyjny komitet wyborczy Trzecia Droga (Polska 2050 + PSL – Koalicja Polska).</li><li>2023-10-20: od teraz w prognozie brane są pod uwagę wyniki wyborów do Sejmu z 2023 roku.\n\n</li></ol>'),n+='<form id="support-form"><button id="calculate-button">Oblicz</button></form>',t||(n+='<div id="url"></div>'),n+='<div class="charts-row"><div class="ct-chart" id="support-bar-chart"></div><div class="ct-chart" id="division-pie-chart"></div></div>',t||(n+='<div id="constituency-results"></div>'),n+="</main>",t||(n+='<footer><a class="github" href="https://github.com/drastus/sejm-calculator">Kod źródłowy</a><address>Kontakt: zrchos na serwerze gmail.com</address></footer>')}.call(this,"embed"in i?i.embed:"undefined"!=typeof embed?embed:void 0),n}},438:t=>{t.exports=function(t){return""+'<object id="constituencies-map"></object><div id="constituency-result"><p class="info"><em>Kliknij okręg, by zobaczyć szczegółowe wyniki.</em></p></div>'}},253:t=>{function e(t,e,n,a){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(a?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=i(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}function n(t,e){return Array.isArray(t)?function(t,e){for(var a,r="",s="",o=Array.isArray(e),c=0;c<t.length;c++)(a=n(t[c]))&&(o&&e[c]&&(a=i(a)),r=r+s+a,s=" ");return r}(t,e):t&&"object"==typeof t?function(t){var e="",n="";for(var i in t)i&&t[i]&&a.call(t,i)&&(e=e+n+i,n=" ");return e}(t):t||""}function i(t){var e=""+t,n=r.exec(e);if(!n)return t;var i,a,s,o="";for(i=n.index,a=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}a!==i&&(o+=e.substring(a,i)),a=i+1,o+=s}return a!==i?o+e.substring(a,i):o}var a=Object.prototype.hasOwnProperty,r=/["&<>]/;function s(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)a.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}t.exports=function(t){var a,r="",o=t||{};return function(t){r+="<table><tr><th>Komitet</th><th>Poparcie</th><th>Mandaty</th></tr>",function(){var o=t;if("number"==typeof o.length)for(var c=0,l=o.length;c<l;c++){var u=o[c];r=r+"<tr"+(e("class",n([u.id],[!0]),!1,!0)+e("style",s("mn"==u.id?"display: none":""),!0,!0))+"><td><label"+e("for",u.id,!0,!0)+">"+i(null==(a=u.name)?"":a)+"</label></td><td>","mn"!==u.id&&(r=r+'<input type="number" step="any" min="0" max="100"'+e("id",u.id,!0,!0)+e("name",u.id,!0,!0)+">%"),r+="</td><td></td></tr>"}else for(var c in l=0,o)l++,u=o[c],r=r+"<tr"+(e("class",n([u.id],[!0]),!1,!0)+e("style",s("mn"==u.id?"display: none":""),!0,!0))+"><td><label"+e("for",u.id,!0,!0)+">"+i(null==(a=u.name)?"":a)+"</label></td><td>","mn"!==u.id&&(r=r+'<input type="number" step="any" min="0" max="100"'+e("id",u.id,!0,!0)+e("name",u.id,!0,!0)+">%"),r+="</td><td></td></tr>"}.call(this),r+="</table>"}.call(this,"committees"in o?o.committees:"undefined"!=typeof committees?committees:void 0),r}}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var a=i.length-1;a>-1&&!t;)t=i[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";const t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},e=8,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function a(t,e){return"number"==typeof t?t+e:t}function r(t){if("string"==typeof t){const e=/^(\d+)\s*(.*)$/g.exec(t);return{value:e?+e[1]:0,unit:(null==e?void 0:e[2])||void 0}}return{value:Number(t)}}function s(t){return String.fromCharCode(97+t%26)}const o=2221e-19;function c(t,e,n){return e/n.range*t}function l(t,n){const i=Math.pow(10,n||e);return Math.round(t*i)/i}function u(t,e,n,i){const a=(i-90)*Math.PI/180;return{x:t+n*Math.cos(a),y:e+n*Math.sin(a)}}function d(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(let e=0;e<n.length;e++){const i=n[e];for(const e in i){const n=i[e];t[e]="object"!=typeof n||null===n||n instanceof Array?n:d(t[e],n)}}return t}const h=t=>t;function p(t,e){return Array.from({length:t},e?(t,n)=>e(n):()=>{})}const m=(t,e)=>t+(e||0);function f(t,e){return null!==t&&"object"==typeof t&&Reflect.has(t,e)}function g(t){return null!==t&&isFinite(t)}function y(t){return!t&&0!==t}function v(t){return g(t)?Number(t):void 0}function w(t){return null==t||"number"==typeof t&&isNaN(t)}function x(t,e,n){const i={high:void 0===(e={...e,...n?"x"===n?e.axisX:e.axisY:{}}).high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},a=void 0===e.high,r=void 0===e.low;return(a||r)&&function t(e){if(!w(e))if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const t=Number(n&&f(e,n)?e[n]:e);a&&t>i.high&&(i.high=t),r&&t<i.low&&(i.low=t)}}(t),(e.referenceValue||0===e.referenceValue)&&(i.high=Math.max(e.referenceValue,i.high),i.low=Math.min(e.referenceValue,i.low)),i.high<=i.low&&(0===i.low?i.high=1:i.low<0?i.high=0:(i.high>0||(i.high=1),i.low=0)),i}function b(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;const r={labels:(t.labels||[]).slice(),series:E(t.series,i,a)},s=r.labels.length;return function(t){return!!Array.isArray(t)&&t.every(Array.isArray)}(r.series)?(e=Math.max(s,...r.series.map((t=>t.length))),r.series.forEach((t=>{t.push(...p(Math.max(0,e-t.length)))}))):e=r.series.length,r.labels.push(...p(Math.max(0,e-s),(()=>""))),n&&function(t){var e;null===(e=t.labels)||void 0===e||e.reverse(),t.series.reverse();for(const e of t.series)f(e,"data")?e.data.reverse():Array.isArray(e)&&e.reverse()}(r),r}function k(t,e){if(!w(t))return e?function(t,e){let n,i;if("object"!=typeof t){const a=v(t);"x"===e?n=a:i=a}else f(t,"x")&&(n=v(t.x)),f(t,"y")&&(i=v(t.y));if(void 0!==n||void 0!==i)return{x:n,y:i}}(t,e):v(t)}function z(t,e){return Array.isArray(t)?t.map((t=>f(t,"value")?k(t.value,e):k(t,e))):z(t.data,e)}function E(t,e,n){if(i=t,Array.isArray(i)&&i.every((t=>Array.isArray(t)||f(t,"data"))))return t.map((t=>z(t,e)));var i;const a=z(t,e);return n?a.map((t=>[t])):a}function S(t){let e="";return null==t?t:(e="number"==typeof t?""+t:"object"==typeof t?JSON.stringify({data:t}):String(t),Object.keys(i).reduce(((t,e)=>t.replaceAll(e,i[e])),e))}class j{call(t,e){return this.svgElements.forEach((n=>Reflect.apply(n[t],n,e))),this}attr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("attr",e)}elem(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("elem",e)}root(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("root",e)}getNode(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("getNode",e)}foreignObject(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("foreignObject",e)}text(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("text",e)}empty(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("empty",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("remove",e)}addClass(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("addClass",e)}removeClass(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("removeClass",e)}removeAllClasses(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("removeAllClasses",e)}animate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.call("animate",e)}constructor(t){this.svgElements=[];for(let e=0;e<t.length;e++)this.svgElements.push(new L(t[e]))}}const A={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function M(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0;const{easing:o,...c}=n,l={};let u,d;o&&(u=Array.isArray(o)?o:A[o]),c.begin=a(c.begin,"ms"),c.dur=a(c.dur,"ms"),u&&(c.calcMode="spline",c.keySplines=u.join(" "),c.keyTimes="0;1"),i&&(c.fill="freeze",l[e]=c.from,t.attr(l),d=r(c.begin||0).value,c.begin="indefinite");const h=t.elem("animate",{attributeName:e,...c});i&&setTimeout((()=>{try{h._node.beginElement()}catch(n){l[e]=c.to,t.attr(l),h.remove()}}),d);const p=h.getNode();s&&p.addEventListener("beginEvent",(()=>s.emit("animationBegin",{element:t,animate:p,params:n}))),p.addEventListener("endEvent",(()=>{s&&s.emit("animationEnd",{element:t,animate:p,params:n}),i&&(l[e]=c.to,t.attr(l),h.remove())}))}class L{attr(e,n){return"string"==typeof e?n?this._node.getAttributeNS(n,e):this._node.getAttribute(e):(Object.keys(e).forEach((n=>{if(void 0!==e[n])if(-1!==n.indexOf(":")){const i=n.split(":");this._node.setAttributeNS(t[i[0]],n,String(e[n]))}else this._node.setAttribute(n,String(e[n]))})),this)}elem(t,e,n){return new L(t,e,n,this,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}parent(){return this._node.parentNode instanceof SVGElement?new L(this._node.parentNode):null}root(){let t=this._node;for(;"svg"!==t.nodeName&&t.parentElement;)t=t.parentElement;return new L(t)}querySelector(t){const e=this._node.querySelector(t);return e?new L(e):null}querySelectorAll(t){const e=this._node.querySelectorAll(t);return new j(e)}getNode(){return this._node}foreignObject(e,n,i){let a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,a=t.firstChild}else a=e;a instanceof Element&&a.setAttribute("xmlns",t.xmlns);const s=this.elem("foreignObject",n,i,r);return s._node.appendChild(a),s}text(t){return this._node.appendChild(document.createTextNode(t)),this}empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}remove(){var t;return null===(t=this._node.parentNode)||void 0===t||t.removeChild(this._node),this.parent()}replace(t){var e;return null===(e=this._node.parentNode)||void 0===e||e.replaceChild(t._node,this._node),t}append(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}classes(){const t=this._node.getAttribute("class");return t?t.trim().split(/\s+/):[]}addClass(t){return this._node.setAttribute("class",this.classes().concat(t.trim().split(/\s+/)).filter((function(t,e,n){return n.indexOf(t)===e})).join(" ")),this}removeClass(t){const e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes().filter((t=>-1===e.indexOf(t))).join(" ")),this}removeAllClasses(){return this._node.setAttribute("class",""),this}height(){return this._node.getBoundingClientRect().height}width(){return this._node.getBoundingClientRect().width}animate(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return Object.keys(t).forEach((i=>{const a=t[i];Array.isArray(a)?a.forEach((t=>M(this,i,t,!1,n))):M(this,i,a,e,n)})),this}constructor(e,n,i,a,r=!1){e instanceof Element?this._node=e:(this._node=document.createElementNS(t.svg,e),"svg"===e&&this.attr({"xmlns:ct":t.ct})),n&&this.attr(n),i&&this.addClass(i),a&&(r&&a._node.firstChild?a._node.insertBefore(this._node,a._node.firstChild):a._node.appendChild(this._node))}}function O(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100%",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",a=arguments.length>3?arguments[3]:void 0;Array.from(e.querySelectorAll("svg")).filter((e=>e.getAttributeNS(t.xmlns,"ct"))).forEach((t=>e.removeChild(t)));const r=new L("svg").attr({width:n,height:i}).attr({style:"width: ".concat(n,"; height: ").concat(i,";")});return a&&r.addClass(a),e.appendChild(r.getNode()),r}function N(t,e){var n,i,a,s;const o=Boolean(e.axisX||e.axisY),c=(null===(n=e.axisY)||void 0===n?void 0:n.offset)||0,l=(null===(i=e.axisX)||void 0===i?void 0:i.offset)||0,u=null===(a=e.axisY)||void 0===a?void 0:a.position,d=null===(s=e.axisX)||void 0===s?void 0:s.position;let h=t.width()||r(e.width).value||0,p=t.height()||r(e.height).value||0;const m="number"==typeof(f=e.chartPadding)?{top:f,right:f,bottom:f,left:f}:void 0===f?{top:0,right:0,bottom:0,left:0}:{top:"number"==typeof f.top?f.top:0,right:"number"==typeof f.right?f.right:0,bottom:"number"==typeof f.bottom?f.bottom:0,left:"number"==typeof f.left?f.left:0};var f;h=Math.max(h,c+m.left+m.right),p=Math.max(p,l+m.top+m.bottom);const g={x1:0,x2:0,y1:0,y2:0,padding:m,width(){return this.x2-this.x1},height(){return this.y1-this.y2}};return o?("start"===d?(g.y2=m.top+l,g.y1=Math.max(p-m.bottom,g.y2+1)):(g.y2=m.top,g.y1=Math.max(p-m.bottom-l,g.y2+1)),"start"===u?(g.x1=m.left+c,g.x2=Math.max(h-m.right,g.x1+1)):(g.x1=m.left,g.x2=Math.max(h-m.right-c,g.x1+1))):(g.x1=m.left,g.x2=Math.max(h-m.right,g.x1+1),g.y2=m.top,g.y1=Math.max(p-m.bottom,g.y2+1)),g}function C(t,e,n){let i;const a=[];function r(a){const r=i;i=d({},t),e&&e.forEach((t=>{window.matchMedia(t[0]).matches&&(i=d(i,t[1]))})),n&&a&&n.emit("optionsChanged",{previousOptions:r,currentOptions:i})}if(!window.matchMedia)throw new Error("window.matchMedia not found! Make sure you're using a polyfill.");return e&&e.forEach((t=>{const e=window.matchMedia(t[0]);e.addEventListener("change",r),a.push(e)})),r(),{removeMediaQueryListeners:function(){a.forEach((t=>t.removeEventListener("change",r)))},getCurrentOptions:()=>i}}L.Easing=A;const B={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},I={accuracy:3};function _(t,e,n,i,a,r){const s={command:a?t.toLowerCase():t.toUpperCase(),...e,...r?{data:r}:{}};n.splice(i,0,s)}function P(t,e){t.forEach(((n,i)=>{B[n.command.toLowerCase()].forEach(((a,r)=>{e(n,a,i,r,t)}))}))}class T{static join(t){const e=new T(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.pathElements.length;t++)e.pathElements.push(i.pathElements[t])}return e}position(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}remove(t){return this.pathElements.splice(this.pos,t),this}move(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return _("M",{x:+t,y:+e},this.pathElements,this.pos++,n,i),this}line(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return _("L",{x:+t,y:+e},this.pathElements,this.pos++,n,i),this}curve(t,e,n,i,a,r){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0;return _("C",{x1:+t,y1:+e,x2:+n,y2:+i,x:+a,y:+r},this.pathElements,this.pos++,s,o),this}arc(t,e,n,i,a,r,s){let o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8?arguments[8]:void 0;return _("A",{rx:t,ry:e,xAr:n,lAf:i,sf:a,x:r,y:s},this.pathElements,this.pos++,o,c),this}parse(t){const e=t.replace(/([A-Za-z])(-?[0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(((t,e)=>(e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t)),[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();const n=e.map((t=>{const e=t.shift(),n=B[e.toLowerCase()];return{command:e,...n.reduce(((e,n,i)=>(e[n]=+t[i],e)),{})}}));return this.pathElements.splice(this.pos,0,...n),this.pos+=n.length,this}stringify(){const t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(((e,n)=>{const i=B[n.command.toLowerCase()].map((e=>{const i=n[e];return this.options.accuracy?Math.round(i*t)/t:i}));return e+n.command+i.join(",")}),"")+(this.close?"Z":"")}scale(t,e){return P(this.pathElements,((n,i)=>{n[i]*="x"===i[0]?t:e})),this}translate(t,e){return P(this.pathElements,((n,i)=>{n[i]+="x"===i[0]?t:e})),this}transform(t){return P(this.pathElements,((e,n,i,a,r)=>{const s=t(e,n,i,a,r);(s||0===s)&&(e[n]=s)})),this}clone(){const t=new T(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.close);return t.pos=this.pos,t.pathElements=this.pathElements.slice().map((t=>({...t}))),t.options={...this.options},t}splitByCommand(t){const e=[new T];return this.pathElements.forEach((n=>{n.command===t.toUpperCase()&&0!==e[e.length-1].pathElements.length&&e.push(new T),e[e.length-1].pathElements.push(n)})),e}constructor(t=!1,e){this.close=t,this.pathElements=[],this.pos=0,this.options={...I,...e}}}class q{on(t,e){const{allListeners:n,listeners:i}=this;"*"===t?n.add(e):(i.has(t)||i.set(t,new Set),i.get(t).add(e))}off(t,e){const{allListeners:n,listeners:i}=this;if("*"===t)e?n.delete(e):n.clear();else if(i.has(t)){const n=i.get(t);e?n.delete(e):n.clear(),n.size||i.delete(t)}}emit(t,e){const{allListeners:n,listeners:i}=this;i.has(t)&&i.get(t).forEach((t=>t(e))),n.forEach((n=>n(t,e)))}constructor(){this.listeners=new Map,this.allListeners=new Set}}const R=new WeakMap;class V{update(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i;return t&&(this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=d({},n?this.options:this.defaultOptions,e),this.initializeTimeoutId||(null===(i=this.optionsProvider)||void 0===i||i.removeMediaQueryListeners(),this.optionsProvider=C(this.options,this.responsiveOptions,this.eventEmitter))),!this.initializeTimeoutId&&this.optionsProvider&&this.createChart(this.optionsProvider.getCurrentOptions()),this}detach(){var t;return this.initializeTimeoutId?window.clearTimeout(this.initializeTimeoutId):(window.removeEventListener("resize",this.resizeListener),null===(t=this.optionsProvider)||void 0===t||t.removeMediaQueryListeners()),R.delete(this.container),this}on(t,e){return this.eventEmitter.on(t,e),this}off(t,e){return this.eventEmitter.off(t,e),this}initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=C(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.on("optionsChanged",(()=>this.update())),this.options.plugins&&this.options.plugins.forEach((t=>{Array.isArray(t)?t[0](this,t[1]):t(this)})),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=null}constructor(t,e,n,i,a){this.data=e,this.defaultOptions=n,this.options=i,this.responsiveOptions=a,this.eventEmitter=new q,this.resizeListener=()=>this.update(),this.initializeTimeoutId=setTimeout((()=>this.initialize()),0);const r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error("Target element is not found");this.container=r;const s=R.get(r);s&&s.detach(),R.set(r,this)}}const D={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};class U{createGridAndLabels(t,e,n,i){const a="x"===this.units.pos?n.axisX:n.axisY,r=this.ticks.map(((t,e)=>this.projectValue(t,e))),s=this.ticks.map(a.labelInterpolationFnc);r.forEach(((o,c)=>{const l=s[c],u={x:0,y:0};let d;d=r[c+1]?r[c+1]-o:Math.max(this.axisLength-o,this.axisLength/this.ticks.length),""!==l&&y(l)||("x"===this.units.pos?(o=this.chartRect.x1+o,u.x=n.axisX.labelOffset.x,"start"===n.axisX.position?u.y=this.chartRect.padding.top+n.axisX.labelOffset.y+5:u.y=this.chartRect.y1+n.axisX.labelOffset.y+5):(o=this.chartRect.y1-o,u.y=n.axisY.labelOffset.y-d,"start"===n.axisY.position?u.x=this.chartRect.padding.left+n.axisY.labelOffset.x:u.x=this.chartRect.x2+n.axisY.labelOffset.x+10),a.showGrid&&function(t,e,n,i,a,r,s,o){const c={["".concat(n.units.pos,"1")]:t,["".concat(n.units.pos,"2")]:t,["".concat(n.counterUnits.pos,"1")]:i,["".concat(n.counterUnits.pos,"2")]:i+a},l=r.elem("line",c,s.join(" "));o.emit("draw",{type:"grid",axis:n,index:e,group:r,element:l,...c})}(o,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[n.classNames.grid,n.classNames[this.units.dir]],i),a.showLabel&&function(t,e,n,i,a,r,s,o,c,l){const u={[a.units.pos]:t+s[a.units.pos],[a.counterUnits.pos]:s[a.counterUnits.pos],[a.units.len]:e,[a.counterUnits.len]:Math.max(0,r-10)},d=Math.round(u[a.units.len]),h=Math.round(u[a.counterUnits.len]),p=document.createElement("span");p.className=c.join(" "),p.style[a.units.len]=d+"px",p.style[a.counterUnits.len]=h+"px",p.textContent=String(i);const m=o.foreignObject(p,{style:"overflow: visible;",...u});l.emit("draw",{type:"label",axis:a,index:n,group:o,element:m,text:i,...u})}(o,d,c,l,this,a.offset,u,e,[n.classNames.label,n.classNames[this.units.dir],"start"===a.position?n.classNames[a.position]:n.classNames.end],i))}))}constructor(t,e,n){this.units=t,this.chartRect=e,this.ticks=n,this.counterUnits=t===D.x?D.y:D.x,this.axisLength=e[this.units.rectEnd]-e[this.units.rectStart],this.gridOffset=e[this.units.rectOffset]}}class X extends U{projectValue(t){const e=Number(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return function(t){return"object"==typeof t&&null!==t&&(Reflect.has(t,"x")||Reflect.has(t,"y"))}(t)&&f(t,e)?v(t[e]):v(t)}(t,this.units.pos));return this.axisLength*(e-this.bounds.min)/this.bounds.range}constructor(t,e,n,i){const a=i.highLow||x(e,i,t.pos),r=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={high:e.high,low:e.low,valueRange:0,oom:0,step:0,min:0,max:0,range:0,numberOfSteps:0,values:[]};var r;a.valueRange=a.high-a.low,a.oom=(r=a.valueRange,Math.floor(Math.log(Math.abs(r))/Math.LN10)),a.step=Math.pow(10,a.oom),a.min=Math.floor(a.low/a.step)*a.step,a.max=Math.ceil(a.high/a.step)*a.step,a.range=a.max-a.min,a.numberOfSteps=Math.round(a.range/a.step);const s=c(t,a.step,a)<n,u=i?function(t){if(1===t)return t;function e(t,n){return t%n==0?n:e(n,t%n)}function n(t){return t*t+1}let i,a=2,r=2;if(t%2==0)return 2;do{a=n(a)%t,r=n(n(r))%t,i=e(Math.abs(a-r),t)}while(1===i);return i}(a.range):0;if(i&&c(t,1,a)>=n)a.step=1;else if(i&&u<a.step&&c(t,u,a)>=n)a.step=u;else{let e=0;for(;;){if(s&&c(t,a.step,a)<=n)a.step*=2;else{if(s||!(c(t,a.step/2,a)>=n))break;if(a.step/=2,i&&a.step%1!=0){a.step*=2;break}}if(e++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}function d(t,e){return t===(t+=e)&&(t*=1+(e>0?o:-o)),t}a.step=Math.max(a.step,o);let h=a.min,p=a.max;for(;h+a.step<=a.low;)h=d(h,a.step);for(;p-a.step>=a.high;)p=d(p,-a.step);a.min=h,a.max=p,a.range=a.max-a.min;const m=[];for(let t=a.min;t<=a.max;t=d(t,a.step)){const e=l(t);e!==m[m.length-1]&&m.push(e)}return a.values=m,a}(n[t.rectEnd]-n[t.rectStart],a,i.scaleMinSpace||20,i.onlyInteger),s={min:r.min,max:r.max};super(t,n,r.values),this.bounds=r,this.range=s}}class Y extends U{projectValue(t,e){return this.stepLength*e}constructor(t,e,n,i){const a=i.ticks||[];super(t,n,a);const r=Math.max(1,a.length-(i.stretch?1:0));this.stepLength=this.axisLength/r,this.stretch=Boolean(i.stretch)}}const K={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:h,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:h,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};class G extends V{createChart(t){const{data:e}=this,n=b(e,t.reverseData,t.horizontalBars?"x":"y",!0),i=O(this.container,t.width,t.height,t.classNames.chart+(t.horizontalBars?" "+t.classNames.horizontalBars:"")),a=t.stackBars&&!0!==t.stackMode&&n.series.length?x([(r=n.series,o=r,c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.from(e).reduce(((t,e)=>({x:t.x+(f(e,"x")?e.x:0),y:t.y+(f(e,"y")?e.y:0)})),{x:0,y:0})},p(Math.max(...o.map((t=>t.length))),(t=>c(...o.map((e=>e[t]))))))],t,t.horizontalBars?"x":"y"):x(n.series,t,t.horizontalBars?"x":"y");var r,o,c;this.svg=i;const l=i.elem("g").addClass(t.classNames.gridGroup),u=i.elem("g"),d=i.elem("g").addClass(t.classNames.labelGroup);"number"==typeof t.high&&(a.high=t.high),"number"==typeof t.low&&(a.low=t.low);const h=N(i,t);let m;const y=t.distributeSeries&&t.stackBars?n.labels.slice(0,1):n.labels;let v,w,k;t.horizontalBars?(m=w=void 0===t.axisX.type?new X(D.x,n.series,h,{...t.axisX,highLow:a,referenceValue:0}):new t.axisX.type(D.x,n.series,h,{...t.axisX,highLow:a,referenceValue:0}),v=k=void 0===t.axisY.type?new Y(D.y,n.series,h,{ticks:y}):new t.axisY.type(D.y,n.series,h,t.axisY)):(v=w=void 0===t.axisX.type?new Y(D.x,n.series,h,{ticks:y}):new t.axisX.type(D.x,n.series,h,t.axisX),m=k=void 0===t.axisY.type?new X(D.y,n.series,h,{...t.axisY,highLow:a,referenceValue:0}):new t.axisY.type(D.y,n.series,h,{...t.axisY,highLow:a,referenceValue:0}));const z=t.horizontalBars?h.x1+m.projectValue(0):h.y1-m.projectValue(0),E="accumulate"===t.stackMode,j="accumulate-relative"===t.stackMode,A=[],M=[];let L=A;v.createGridAndLabels(l,d,t,this.eventEmitter),m.createGridAndLabels(l,d,t,this.eventEmitter),t.showGridBackground&&function(t,e,n,i){const a=t.elem("rect",{x:e.x1,y:e.y2,width:e.width(),height:e.height()},n,!0);i.emit("draw",{type:"gridBackground",group:t,element:a})}(l,h,t.classNames.gridBackground,this.eventEmitter),function(t,e){let n=0;t[arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"reduceRight":"reduce"](((t,i,a)=>e(i,n++,a)),void 0)}(e.series,((i,a)=>{const r=a-(e.series.length-1)/2;let o;o=t.distributeSeries&&!t.stackBars?v.axisLength/n.series.length/2:t.distributeSeries&&t.stackBars?v.axisLength/2:v.axisLength/n.series[a].length/2;const c=u.elem("g"),l=f(i,"name")&&i.name,d=f(i,"className")&&i.className,p=f(i,"meta")?i.meta:void 0;l&&c.attr({"ct:series-name":l}),p&&c.attr({"ct:meta":S(p)}),c.addClass([t.classNames.series,d||"".concat(t.classNames.series,"-").concat(s(a))].join(" ")),n.series[a].forEach(((e,s)=>{const l=f(e,"x")&&e.x,u=f(e,"y")&&e.y;let d,p;d=t.distributeSeries&&!t.stackBars?a:t.distributeSeries&&t.stackBars?0:s,p=t.horizontalBars?{x:h.x1+m.projectValue(l||0,s,n.series[a]),y:h.y1-v.projectValue(u||0,d,n.series[a])}:{x:h.x1+v.projectValue(l||0,d,n.series[a]),y:h.y1-m.projectValue(u||0,s,n.series[a])},v instanceof Y&&(v.stretch||(p[v.units.pos]+=o*(t.horizontalBars?-1:1)),p[v.units.pos]+=t.stackBars||t.distributeSeries?0:r*t.seriesBarDistance*(t.horizontalBars?-1:1)),j&&(L=u>=0||l>=0?A:M);const y=L[s]||z;if(L[s]=y-(z-p[v.counterUnits.pos]),void 0===e)return;const x={["".concat(v.units.pos,"1")]:p[v.units.pos],["".concat(v.units.pos,"2")]:p[v.units.pos]};t.stackBars&&(E||j||!t.stackMode)?(x["".concat(v.counterUnits.pos,"1")]=y,x["".concat(v.counterUnits.pos,"2")]=L[s]):(x["".concat(v.counterUnits.pos,"1")]=z,x["".concat(v.counterUnits.pos,"2")]=p[v.counterUnits.pos]),x.x1=Math.min(Math.max(x.x1,h.x1),h.x2),x.x2=Math.min(Math.max(x.x2,h.x1),h.x2),x.y1=Math.min(Math.max(x.y1,h.y2),h.y1),x.y2=Math.min(Math.max(x.y2,h.y2),h.y1);const b=function(t,e){const n=Array.isArray(t)?t[e]:f(t,"data")?t.data[e]:null;return f(n,"meta")?n.meta:void 0}(i,s),O=c.elem("line",x,t.classNames.bar).attr({"ct:value":[l,u].filter(g).join(","),"ct:meta":S(b)});this.eventEmitter.emit("draw",{type:"bar",value:e,index:s,meta:b,series:i,seriesIndex:a,axisX:w,axisY:k,chartRect:h,group:c,element:O,...x})}))}),t.reverseData),this.eventEmitter.emit("created",{chartRect:h,axisX:w,axisY:k,svg:i,options:t})}constructor(t,e,n,i){super(t,e,K,d({},K,n),i),this.data=e}}const H={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:h,labelDirection:"neutral",ignoreEmptyValues:!1};function F(t,e,n){const i=e.x>t.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}class Q extends V{createChart(t){const{data:e}=this,n=b(e),i=[];let a,o,c=t.startAngle;const l=O(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie);this.svg=l;const d=N(l,t);let h=Math.min(d.width()/2,d.height()/2);const p=t.total||n.series.reduce(m,0),g=r(t.donutWidth);"%"===g.unit&&(g.value*=h/100),h-=t.donut?g.value/2:0,o="outside"===t.labelPosition||t.donut?h:"center"===t.labelPosition?0:h/2,t.labelOffset&&(o+=t.labelOffset);const v={x:d.x1+d.width()/2,y:d.y2+d.height()/2},w=1===e.series.filter((t=>f(t,"value")?0!==t.value:0!==t)).length;e.series.forEach(((t,e)=>i[e]=l.elem("g"))),t.showLabel&&(a=l.elem("g")),e.series.forEach(((r,l)=>{var m,x;if(0===n.series[l]&&t.ignoreEmptyValues)return;const b=f(r,"name")&&r.name,k=f(r,"className")&&r.className,z=f(r,"meta")?r.meta:void 0;b&&i[l].attr({"ct:series-name":b}),i[l].addClass([null===(m=t.classNames)||void 0===m?void 0:m.series,k||"".concat(null===(x=t.classNames)||void 0===x?void 0:x.series,"-").concat(s(l))].join(" "));let E=p>0?c+n.series[l]/p*360:0;const j=Math.max(0,c-(0===l||w?0:.2));E-j>=359.99&&(E=j+359.99);const A=u(v.x,v.y,h,j),M=u(v.x,v.y,h,E),L=new T(!t.donut).move(M.x,M.y).arc(h,h,0,Number(E-c>180),0,A.x,A.y);t.donut||L.line(v.x,v.y);const O=i[l].elem("path",{d:L.stringify()},t.donut?t.classNames.sliceDonut:t.classNames.slicePie);if(O.attr({"ct:value":n.series[l],"ct:meta":S(z)}),t.donut&&O.attr({style:"stroke-width: "+g.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:n.series[l],totalDataSum:p,index:l,meta:z,series:r,group:i[l],element:O,path:L.clone(),center:v,radius:h,startAngle:c,endAngle:E,chartRect:d}),t.showLabel){let i,s;i=1===e.series.length?{x:v.x,y:v.y}:u(v.x,v.y,o,c+(E-c)/2),s=n.labels&&!y(n.labels[l])?n.labels[l]:n.series[l];const h=t.labelInterpolationFnc(s,l);if(h||0===h){const e=a.elem("text",{dx:i.x,dy:i.y,"text-anchor":F(v,i,t.labelDirection)},t.classNames.label).text(String(h));this.eventEmitter.emit("draw",{type:"label",index:l,group:a,element:e,text:""+h,chartRect:d,series:r,meta:z,...i})}}c=E})),this.eventEmitter.emit("created",{chartRect:d,svg:l,options:t})}constructor(t,e,n,i){super(t,e,H,d({},H,n),i),this.data=e}}var W={pis:35.38,ko:30.7,td:14.4,lewica:8.61,konfederacja:7.16},$=[{id:"pis",name:"Prawo i Sprawiedliwość",shortName:"PiS",threshold:5,pastSupportEquivalence:[["pis",1]]},{id:"ko",name:"Koalicja Obywatelska",shortName:"KO",threshold:8,pastSupportEquivalence:[["ko",1]]},{id:"td",name:"Trzecia Droga",shortName:"TD",threshold:8,pastSupportEquivalence:[["td",1]]},{id:"lewica",name:"Lewica",shortName:"Lew.",threshold:5,pastSupportEquivalence:[["lewica",1]]},{id:"konfederacja",name:"Konfederacja",shortName:"Konf.",threshold:5,pastSupportEquivalence:[["konfederacja",1]]},{id:"mn",name:"Mniejszość Niemiecka",shortName:"MN",threshold:0,pastSupportEquivalence:[]}],J=["lewica","ko","mn","td","pis","konfederacja"],Z=[{name:"Legnica",size:12,pastSupport:{pis:34.8,ko:33.78,td:10.75,lewica:9.51,konfederacja:6.33}},{name:"Wałbrzych",size:8,pastSupport:{ko:37.17,pis:33.34,td:12.13,lewica:7.98,konfederacja:6.02}},{name:"Wrocław",size:14,pastSupport:{ko:36.94,pis:26.66,td:13.74,lewica:11.35,konfederacja:6.98}},{name:"Bydgoszcz",size:12,pastSupport:{ko:35.01,pis:30.45,td:15.06,lewica:9.92,konfederacja:6.42}},{name:"Toruń",size:13,pastSupport:{pis:34.06,ko:29.52,td:15.68,lewica:11.25,konfederacja:6.37}},{name:"Lublin",size:15,pastSupport:{pis:45.48,ko:20.32,td:15.87,konfederacja:8.38,lewica:5.72}},{name:"Chełm",size:12,pastSupport:{pis:50.75,ko:17.4,td:13.04,konfederacja:7.79,lewica:5.62}},{name:"Zielona Góra",size:12,pastSupport:{ko:37.73,pis:27.76,td:15.07,lewica:9.27,konfederacja:6.51}},{name:"Łódź",size:10,pastSupport:{ko:41.07,pis:26.82,lewica:12.22,td:11.89,konfederacja:5.57}},{name:"Piotrków Trybunalski",size:9,pastSupport:{pis:46.6,ko:21.69,td:13.73,konfederacja:7.62,lewica:6.39}},{name:"Sieradz",size:12,pastSupport:{pis:41.46,ko:25.89,td:14.5,lewica:7.73,konfederacja:6.82}},{name:"Chrzanów",size:8,pastSupport:{pis:42.86,ko:24.24,td:14.97,konfederacja:7.88,lewica:6.04}},{name:"Kraków",size:14,pastSupport:{ko:30.73,pis:30.68,td:16.86,lewica:11.04,konfederacja:7.71}},{name:"Nowy Sącz",size:10,pastSupport:{pis:53.73,ko:16.1,td:11.58,konfederacja:8.73,lewica:3.18}},{name:"Tarnów",size:9,pastSupport:{pis:48.67,td:18.64,ko:17.02,konfederacja:7.99,lewica:4}},{name:"Płock",size:10,pastSupport:{pis:44.11,ko:22.4,td:17.07,konfederacja:6.52,lewica:6.52}},{name:"Radom",size:9,pastSupport:{pis:48.68,ko:20.96,td:13.98,konfederacja:7.31,lewica:5.34}},{name:"Siedlce",size:12,pastSupport:{pis:48.62,ko:18.71,td:15.51,konfederacja:8.21,lewica:4.85}},{name:"Warszawa I",size:20,pastSupport:{ko:43.23,pis:20.14,lewica:13.45,td:13.25,konfederacja:7.24}},{name:"Warszawa II",size:12,pastSupport:{ko:35.23,pis:31.74,td:15.06,konfederacja:7.06,lewica:7.06}},{name:"Opole",size:12,pastSupport:{ko:33.59,pis:31.26,td:12.74,lewica:7.24,konfederacja:6.49}},{name:"Krosno",size:11,pastSupport:{pis:54.7,ko:15.85,td:13.79,konfederacja:8.62,lewica:4.47}},{name:"Rzeszów",size:15,pastSupport:{pis:51.6,ko:17.7,td:12.42,konfederacja:9.48,lewica:4.87}},{name:"Białystok",size:14,pastSupport:{pis:42.39,ko:20.84,td:18.86,konfederacja:9.79,lewica:4.84}},{name:"Gdańsk",size:12,pastSupport:{ko:41.7,pis:25.2,td:14.7,lewica:9.41,konfederacja:6.23}},{name:"Gdynia",size:14,pastSupport:{ko:37.91,pis:29.24,td:13.59,lewica:8.33,konfederacja:7.21}},{name:"Bielsko-Biała",size:9,pastSupport:{pis:36.71,ko:28.67,td:14.55,konfederacja:7.84,lewica:7.77}},{name:"Częstochowa",size:7,pastSupport:{pis:36.35,ko:29.11,td:14.72,lewica:9.41,konfederacja:6.56}},{name:"Gliwice",size:9,pastSupport:{ko:36.06,pis:30.16,td:13.34,lewica:9.21,konfederacja:6.95}},{name:"Rybnik",size:9,pastSupport:{pis:38.06,ko:29.98,td:12.45,konfederacja:8,lewica:6.84}},{name:"Katowice",size:12,pastSupport:{ko:36.79,pis:30.88,td:13.27,lewica:8.46,konfederacja:6.7}},{name:"Sosnowiec",size:9,pastSupport:{ko:30.3,pis:29.74,lewica:21.6,td:9.85,konfederacja:5.69}},{name:"Kielce",size:16,pastSupport:{pis:47.07,ko:20.93,td:13.8,lewica:6.83,konfederacja:6.55}},{name:"Elbląg",size:8,pastSupport:{pis:35.2,ko:31.87,td:15.4,lewica:8.11,konfederacja:6.54}},{name:"Olsztyn",size:10,pastSupport:{ko:33.07,pis:32.33,td:16.11,lewica:8.09,konfederacja:6.93}},{name:"Kalisz",size:12,pastSupport:{pis:35.85,ko:28.58,td:16.16,lewica:8.52,konfederacja:6.98}},{name:"Konin",size:9,pastSupport:{pis:38.69,ko:23.99,td:16.63,lewica:9.48,konfederacja:6.97}},{name:"Piła",size:9,pastSupport:{ko:34.87,pis:29.11,td:17.66,lewica:7.84,konfederacja:6.87}},{name:"Poznań",size:10,pastSupport:{ko:44.09,pis:19.57,td:16.54,lewica:12.31,konfederacja:5.9}},{name:"Koszalin",size:8,pastSupport:{ko:38.69,pis:31.36,td:12.35,lewica:8.72,konfederacja:6.02}},{name:"Szczecin",size:12,pastSupport:{ko:40.13,pis:28.79,td:12.62,lewica:9.39,konfederacja:5.94}}];var tt=n(438),et=n.n(tt),nt=n(50),it=n.n(nt),at=n(253),rt=n.n(at);const st=n.p+"images/c41.svg";var ot=window.location,ct=null,lt=null,ut=function(t){return"".concat(t.toLocaleString("pl",{minimumFractionDigits:0,maximumFractionDigits:1}),"%")},dt=function(){document.querySelectorAll("tr td:last-child").forEach((function(t){t.innerHTML=""})),ct&&ct.detach(),lt&&lt.detach();var t=document.getElementById("url");t&&(t.innerHTML=""),document.getElementById("support-bar-chart").innerHTML="",document.getElementById("division-pie-chart").innerHTML="";var e=document.getElementById("constituency-results");if(e&&(e.innerHTML=et()()),ot.search){var n=ot.href.split("?")[0];window.history.pushState("","",n)}},ht=function(){var t=document.querySelector("#support-form"),e=document.querySelectorAll("#support-form input"),n=Array.from(e).map((function(t){return parseFloat(t.value)})).map((function(t){return Number.isNaN(t)?0:t}));if(function(t,e,n){e.forEach((function(t){return t.setCustomValidity("")})),n.some((function(t,n){return t<0&&(e[n].setCustomValidity("Poparcie nie może byc mniejsze od 0%"),!0)}));var i=n.reduce((function(t,e){return t+e}),0);return i>100?e[0].setCustomValidity("Suma poparcia nie może przekraczać 100%"):i<=0&&e[0].setCustomValidity("Suma poparcia musi być wyższa niż 0%"),t.reportValidity()}(t,e,n)){var i=function(t){var e=$.map((function(t){return t.pastSupportEquivalence.map((function(t){return W[t[0]]*t[1]})).reduce((function(t,e){return t+e}),0)})),n=new Array(t.length+1).fill(0);return Z.forEach((function(i){var a=function(t,e,n){var i=n.pastSupport,a=$.map((function(t){return t.pastSupportEquivalence.map((function(t){return i[t[0]]*t[1]})).reduce((function(t,e){return t+e}),0)})),r=e.map((function(t,e){return a[e]/t})),s=t.map((function(t,e){return t*r[e]}));return"Opole"===n.name&&s.push(5.37),s}(t,e,i);i.support=a,i.mandates=new Array(a.length).fill(0);for(var r=a.map((function(e,n){return t[n]<$[n].threshold?0:e})),s=[],o=1;o<=i.size;o+=1)for(var c=0;c<a.length;c+=1)s.push({quotient:r[c]/o,committeeIndex:c});s.sort((function(t,e){return e.quotient-t.quotient})),s.slice(0,i.size).forEach((function(t){t.quotient>0&&(n[t.committeeIndex]+=1,i.mandates[t.committeeIndex]+=1)}))})),n}(n);!function(t){t.forEach((function(t,e){var n=$[e].id,i=document.querySelector("tr.".concat(n," td:last-child"));i&&(i.textContent=t.toString()),5===e&&t>0&&null!=i&&i.parentElement&&(i.parentElement.style.display="table-row")}))}(i),function(t){if(document.getElementById("url")){var e=new URLSearchParams;t.forEach((function(t,n){t>0&&e.append($[n].id,t.toString())}));var n=ot.href.split("?")[0],i="".concat(n,"?").concat(e);document.getElementById("url").innerHTML="Link do wyników: ".concat(i.link(i))}}(n),ct=function(t){var e=$.map((function(e,n){return{label:e.shortName,support:{value:t[n],className:e.id}}})).filter((function(t){return t.support.value&&t.support.value>0})).sort((function(t,e){return e.support.value-t.support.value})),n={labels:e.map((function(t){return t.label})),series:e.map((function(t){return t.support}))},i={distributeSeries:!0,axisY:{labelInterpolationFnc:ut}};document.getElementById("support-bar-chart").classList.add("ct-perfect-fourth");var a=new G("#support-bar-chart",n,i);return a.on("draw",(function(t){"bar"===t.type&&(t.element.attr({style:"stroke-width: 30px"}),t.group.append(new L("text",{x:t.x2+15,y:t.y2-5,"text-anchor":"end"},"bar-value").text(ut(t.value.y))))})),a}(n),lt=function(t){var e=$.map((function(e,n){return{id:e.id,label:e.shortName,mandates:{value:t[n],className:e.id}}})).filter((function(t){return t.mandates.value&&t.mandates.value>0}));e.sort((function(t,e){return J.indexOf(t.id)>J.indexOf(e.id)?1:-1}));var n={series:e.map((function(t){return t.mandates}))},i={donut:!0,donutWidth:60,startAngle:270,total:920,labelInterpolationFnc:function(t,n){return t<15?"":"".concat(e[n].label," ").concat(t)}};return document.getElementById("division-pie-chart").classList.add("ct-perfect-fourth"),new Q("#division-pie-chart",n,i)}(i),function(){var t=document.getElementById("constituency-results");if(t){t.innerHTML=et()();var e=document.getElementById("constituency-result"),n=document.getElementById("constituencies-map");n.setAttribute("data",st),n.addEventListener("load",(function(){var t=n.contentDocument,i=t.getElementById("constituency-number"),a=t.getElementById("constituency-name");t.querySelectorAll("svg path").forEach((function(t){var n=parseInt(t.dataset.cid,10),r=Z[n-1],s=r.mandates&&r.support?r.mandates.map((function(t,e){return{committee:$[e],support:r.support[e],mandates:t}})):[];s.sort((function(t,e){return e.support-t.support})),s[0].support===s[1].support?t.style.fill="lightgray":(t.classList.add(s[0].committee.id),s[0].support>=50?t.classList.add("bright50"):s[0].support<40&&t.classList.add("bright30")),t.addEventListener("mouseover",(function(t){var e=t.target;e.style.stroke="#444",i.innerHTML="Okręg nr ".concat(e.dataset.cid),a.innerHTML=e.dataset.cname})),t.addEventListener("mouseout",(function(t){t.target.style.stroke="#fff",i.innerHTML="",a.innerHTML=""})),t.addEventListener("click",(function(t){t.target.style.stroke="#ccc",e.innerHTML=it()({number:n,name:r.name,size:r.size,data:s})}))}))}))}}(),e.forEach((function(t){return t.addEventListener("input",(function(){dt()}))}))}},pt=function(){document.getElementById("support-form").insertAdjacentHTML("afterbegin",rt()({committees:$}))},mt=function(){ot.search&&(new URLSearchParams(ot.search).forEach((function(t,e){var n=document.querySelector("tr.".concat(e," td:nth-child(2) input"));n&&(n.value=t)})),ht())},ft=n(587),gt=n.n(ft),yt=function(){document.body.innerHTML=gt()({embed:"#embed"===window.location.hash})},vt=function(t){t.preventDefault(),ht()};document.addEventListener("DOMContentLoaded",(function(){yt(),pt(),mt(),document.querySelector("#calculate-button").addEventListener("click",vt)})),window.addEventListener("popstate",(function(){window.location.search?mt():(document.querySelectorAll("tr td:nth-child(2) input").forEach((function(t){t.value=""})),dt())})),window.addEventListener("hashchange",(function(){yt(),pt(),mt()}))})()})();